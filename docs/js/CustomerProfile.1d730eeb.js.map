{"version":3,"sources":["webpack:///./src/modules/adminPanel/components/vehicles/AddVehicle.vue?10c1","webpack:///src/modules/adminPanel/components/vehicles/AddVehicle.vue","webpack:///./src/modules/adminPanel/components/vehicles/AddVehicle.vue?2f23","webpack:///./src/modules/adminPanel/components/vehicles/AddVehicle.vue","webpack:///./node_modules/vue-filepond/dist/vue-filepond.js","webpack:///./src/modules/adminPanel/components/vehicles/VehicleSetting.vue?6e6c","webpack:///src/modules/adminPanel/components/vehicles/VehicleSetting.vue","webpack:///./src/modules/adminPanel/components/vehicles/VehicleSetting.vue?720b","webpack:///./src/modules/adminPanel/components/vehicles/VehicleSetting.vue","webpack:///./src/components/forms/FileUploade.vue?e6cd","webpack:///./node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js","webpack:///./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js","webpack:///src/components/forms/FileUploade.vue","webpack:///./src/components/forms/FileUploade.vue?7764","webpack:///./src/components/forms/FileUploade.vue","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./src/modules/adminPanel/components/customers/CustomerProfile.vue?bbc4","webpack:///src/modules/adminPanel/components/customers/CustomerProfile.vue","webpack:///./src/modules/adminPanel/components/customers/CustomerProfile.vue?cf51","webpack:///./src/modules/adminPanel/components/customers/CustomerProfile.vue","webpack:///./node_modules/filepond/dist/filepond.js","webpack:///./src/modules/adminPanel/components/vehicles/EditVehicle.vue?91e2","webpack:///src/modules/adminPanel/components/vehicles/EditVehicle.vue","webpack:///./src/modules/adminPanel/components/vehicles/EditVehicle.vue?aff1","webpack:///./src/modules/adminPanel/components/vehicles/EditVehicle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","_v","proxy","on","$event","addVehicle","staticClass","directives","name","rawName","value","newVehicle","expression","domProps","target","composing","$set","$$selectedVal","Array","prototype","filter","call","options","o","selected","map","val","_value","multiple","arg","vehicleFiles","staticRenderFns","component","global","factory","globalThis","self","_exports","_vue","_filepond","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","setOptions","filteredComponentMethods","isSupported","supported","getNativeConstructorFromType","type","string","String","boolean","Boolean","array","function","Function","int","Number","serverapi","object","props","events","watch","instances","globalOptions","assign","forEach","instance","_default","registerPlugin","apply","arguments","length","_loop","prop","test","push","OptionTypes","_pond","h","id","className","required","allowMultiple","accept","acceptedFileTypes","capture","captureMethod","mounted","_this","_element","$el","querySelector","reduce","$emit","getFiles","_len","args","_key","substr","concat","$attrs","create","$options","propsData","keys","includes","destroyed","_this2","detached","offsetParent","mutationHandler","mutations","observer","removedNodes","removedNode","contains","disconnect","MutationObserver","observe","document","documentElement","childList","subtree","destroy","index","indexOf","splice","ref","files","handleFilePondInit","addFilter","utils","Type","isString","replaceInString","guesstimateMimeType","getExtensionFromFilename","getFilenameFromURL","mimeTypeMatchesWildCard","mimeType","wildcard","mimeTypeGroup","exec","pop","wildcardGroup","slice","isValidMimeType","acceptedTypes","userInputType","some","acceptedType","getItemType","item","filename","extension","validateFile","typeDetector","Promise","resolve","reject","then","detectedType","catch","applyMimeTypeMap","acceptedFileType","file","query","validationResult","handleRejection","acceptedFileTypesMapped","label","status","main","sub","allTypes","join","allButLastType","lastType","allowFileTypeValidation","BOOLEAN","ARRAY","labelFileTypeNotAllowed","STRING","fileValidateTypeLabelExpectedTypes","fileValidateTypeLabelExpectedTypesMap","OBJECT","fileValidateTypeDetectType","FUNCTION","isBrowser","window","dispatchEvent","CustomEvent","detail","isPreviewableImage","vectorMultiply","v","amount","createVector","x","y","vectorAdd","a","b","vectorNormalize","l","Math","sqrt","vectorRotate","radians","origin","cos","sin","t","getMarkupValue","size","scalar","axis","parseFloat","min","width","height","getMarkupStyles","markup","scale","lineStyle","borderStyle","fill","backgroundColor","fontColor","stroke","borderColor","lineColor","strokeWidth","borderWidth","lineWidth","lineCap","lineJoin","dashes","opacity","isDefined","getMarkupRect","rect","left","top","right","bottom","pointsToPathShape","points","point","setAttributes","element","attr","setAttribute","ns","svg","tag","createElementNS","updateRect","styles","updateEllipse","cx","cy","rx","ry","IMAGE_FIT_STYLE","contain","cover","updateImage","preserveAspectRatio","fit","TEXT_ANCHOR","center","updateText","fontSize","fontFamily","fontWeight","textAlign","text","textContent","updateLine","line","childNodes","begin","end","x1","y1","x2","y2","lineDecoration","style","display","arrowBeginRotationPoint","arrowBeginCenter","arrowBeginA","arrowBeginB","d","arrowEndRotationPoint","arrowEndCenter","arrowEndA","arrowEndB","updatePath","createShape","node","createImage","shape","onload","setAttributeNS","src","createLine","appendChild","CREATE_TYPE_ROUTES","image","ellipse","path","UPDATE_TYPE_ROUTES","createMarkupByType","updateMarkupByType","MARKUP_RECT","toOptionalFraction","prepareMarkup","prev","curr","zIndex","sortMarkupByZIndex","createMarkupView","_","createView","ignoreRect","mixins","apis","write","root","dirty","crop","resize","viewWidth","viewHeight","cropWidth","cropHeight","outputWidth","outputHeight","outputFit","mode","outputUpscale","upscale","shouldUpscale","scalarWidth","scalarHeight","max","innerHTML","markupFilter","sort","settings","createVector$1","vectorDot","vectorSubtract","vectorDistanceSquared","vectorDistance","getOffsetPointOnEdge","rotation","A","B","C","sinA","sinB","sinC","cosC","ratio","c","getRotatedRectSize","w","hor","ver","tl","abs","tr","bl","calculateCanvasSize","canvasAspectRatio","zoom","imageAspectRatio","canvasWidth","canvasHeight","imgWidth","imgHeight","getImageRectZoomFactor","imageRect","cropRect","imageWidth","imageHeight","rotatedCropSize","getCenteredCropRect","container","aspectRatio","getCurrentCropSize","imageSize","canvasSize","canvasCenter","stage","shouldLimit","scaleToFit","stageZoomFactor","widthFloat","heightFloat","round","IMAGE_SCALE_SPRING_PROPS","stiffness","damping","mass","createBitmapView","createImageCanvasWrapper","animations","originX","originY","scaleX","scaleY","translateX","translateY","rotateZ","bitmap","appendChildView","createChildView","flip","horizontal","vertical","createClipView","duration","didWriteView","background","createMarkup","destroyMarkup","removeChildView","transparencyIndicator","dataset","shouldOptimize","translation","PI","cropAspectRatio","imageView","createImageView","clip","hidden","containerWidth","inner","containerHeight","fixedPreviewHeight","minPreviewHeight","maxPreviewHeight","panelAspectRatio","clipHeight","clipWidth","SVG_MASK","checkedMyBases","SVGMaskUniqueId","createImageOverlayView","fpAPI","replace","location","href","hash","classList","add","BitmapWorker","onmessage","e","createImageBitmap","data","message","postMessage","ColorMatrixWorker","imageData","matrix","colorMatrix","m11","m12","m13","m14","m15","m21","m22","m23","m24","m25","m31","m32","m33","m34","m35","m41","m42","m43","m44","m45","r","g","buffer","getImageSize","url","cb","Image","naturalWidth","naturalHeight","transforms","1","2","3","4","5","6","7","8","fixImageOrientation","ctx","orientation","transform","createPreviewImage","canvas","createElement","getContext","drawImage","isBitmap","MAX_WIDTH","MAX_HEIGHT","calculateAverageColor","ceil","getImageData","i","averageColor","floor","cloneCanvas","cloneImageData","ImageData","createImageData","set","Uint8ClampedArray","loadImage","img","crossOrigin","onerror","createImageWrapperView","OverlayView","ImageView","createWorker","applyFilter","putImageData","worker","post","response","terminate","removeImageView","_destroy","shiftImage","images","shift","imageViewBin","pushImage","getMetadata","childViews","setTimeout","dispatch","didUpdateItemMetadata","action","change","canCreateImageBitmap","userAgent","navigator","isFirefox","match","firefoxVersion","parseInt","didCreatePreviewContainer","fileURL","URL","createObjectURL","drawPreview","loadPreviewFallback","previewImageLoaded","revokeObjectURL","exif","pixelDensityFactor","devicePixelRatio","zoomFactor","scaleFactor","previewImageRatio","previewContainerWidth","previewContainerHeight","previewImage","done","setMetadata","close","overlayShadow","imageBitmap","didDrawPreview","restoreOverlay","overlayError","overlaySuccess","didThrowError","didCompleteProcessing","createRoute","DID_IMAGE_PREVIEW_DRAW","DID_IMAGE_PREVIEW_CONTAINER_CREATE","DID_FINISH_CALCULATE_PREVIEWSIZE","DID_UPDATE_ITEM_METADATA","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_INVALID","DID_COMPLETE_ITEM_PROCESSING","DID_START_ITEM_PROCESSING","DID_REVERT_ITEM_PROCESSING","viewsToRemove","isFile","imagePreviewView","viewAPI","is","view","didLoadItem","archived","supportsCreateImageBitmap","maxPreviewFileSize","imagePreview","queue","rescaleItem","itemPanelAspectRatio","fixedHeight","previewAspectRatio","previewHeightMax","itemWidth","previewHeight","didResizeView","shouldRescale","didCalculatePreviewSize","shouldDrawPreview","registerWriter","DID_RESIZE_ROOT","DID_STOP_RESIZE","DID_LOAD_ITEM","DID_IMAGE_PREVIEW_CALCULATE_SIZE","requestAnimationFrame","allowImagePreview","imagePreviewFilterItem","imagePreviewHeight","INT","imagePreviewMinHeight","imagePreviewMaxHeight","imagePreviewMaxFileSize","imagePreviewZoomFactor","imagePreviewUpscale","imagePreviewMaxInstantPreviewFileSize","imagePreviewTransparencyIndicator","imagePreviewCalculateAverageImageColor","imagePreviewMarkupShow","imagePreviewMarkupFilter","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","proto","forced","callbackfn","undefined","exports","isNode","HTMLElement","createStore","initialState","queries","actions","state","actionQueue","dispatchQueue","getState","processActionQueue","processDispatchQueue","_ref","isBlocking","actionHandlers","str","_queryHandles","queryHandles","api","property","definition","forin","hasOwnProperty","createObject","getAttribute","hasAttribute","svgElements","isSVGElement","attributes","parent","child","children","insertBefore","parentNode","removeChild","IS_BROWSER","testElement","getChildCount","el","getViewRect","elementRect","offset","outer","childView","isRectIgnored","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","spring","_ref$stiffness","_ref$damping","_ref$mass","resting","interpolate","ts","skipToEndState","f","onupdate","oncomplete","setTarget","get","easeInOutQuad","tween","p","_ref$duration","_ref$easing","easing","_ref$delay","delay","start","reverse","animator","createAnimator","category","def","addGetSet","overwrite","isArray","getter","setter","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","animation","addEvent","addEventListener","removeEvent","removeEventListener","listeners","viewState","remove","off","findIndex","event","defaults","rotateX","rotateY","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","_ref2","perspective","elementCurrentStyle","cssText","Mixins","layoutCalculated","paddingTop","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","_ref$didCreateView","didCreateView","_ref$didWriteView","_ref$ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","store","getComputedStyle","frameRect","isResting","activeMixins","writers","readers","destroyers","getElement","getChildViews","getReference","getStyle","_read","shouldUpdate","internalAPI","reader","_write","frameActions","writer","writerResting","timestamp","mixin","mixinResting","childResting","destroyer","sharedAPIDefinition","internalAPIDefinition","needle","linkView","unlinkView","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","mixinAPI","childCount","createPainter","fps","painter","interval","last","requestTick","cancelTick","setTimerType","tick","performance","now","clearTimeout","cancelAnimationFrame","delta","pause","routes","_ref$actions","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","toString","toArray","splitter","split","isBoolean","toBoolean","toNumber","toInt","toFloat","isInt","isFinite","toBytes","base","naturalFileSize","isFunction","toFunctionReference","levels","level","methods","process","patch","revert","fetch","restore","load","createServerAPI","outline","timeout","headers","createAction","method","withCredentials","ondata","parts","header","toServerAPI","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","number","float","bytes","JSON","parse","convertTo","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOption","currentValue","enumerable","createOptions","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","part","toLowerCase","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","_AwaitValue","wrapped","_AsyncGenerator","gen","front","back","send","request","next","resume","result","wrappedAwait","settle","err","_invoke","return","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","Symbol","asyncIterator","throw","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","iterator","from","TypeError","arrayRemove","run","sync","listener","_fire","fireSync","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","thousandsStringWithoutSeparator","NUMBER","ACTION","SERVER_API","REGEX","filters","applyFilterChain","matchingFilters","initialFilter","current","error","applyFilters","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","opts","disabled","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","storeAsFile","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","allowMinimumUploadDuration","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","credits","getItemByQuery","getNumericAspectRatioFromString","getActiveItems","Status","EMPTY","ERROR","BUSY","READY","res","canUpdateFileInput","dataTransfer","DataTransfer","File","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","isItemInBusyState","isItemInReadyState","isAsync","GET_STATUS","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","GET_ITEM_SIZE","fileSize","GET_STYLES","GET_PANEL_ASPECT_RATIO","isShapeCircle","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","SHOULD_UPDATE_FILE_INPUT","IS_ASYNC","hasRoomForItem","count","maxFileCount","limit","arrayInsert","insertItem","isBase64DataURI","guesstimateExtension","subtype","leftPad","padding","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","getTranfserIdFromHeader","getFileInfoFromHeaders","info","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","progress","getProgress","abort","loadURL","body","code","computable","total","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","processChunks","updateTotalProgress","retryProcessChunk","every","totalBytesTransfered","totalSize","totalProcessing","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","reset","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","deepCloneObject","createItem","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","success","retryLoad","abortLoad","processor","onprocess","console","requestProcessing","abortProcessing","revertFileUpload","_setMetadata","silent","filenameWithoutExtension","fileExtension","fileType","relativePath","extend","handler","itemAPI","freeze","release","archive","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","protocol","isExternalURL","dynamicLabel","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","_ref3","doUpload","shouldPrepareOutput","MOVE_ITEM","_ref4","currentIndex","SORT","_ref5","ADD_ITEMS","_ref6","_ref6$success","_ref6$failure","insertLocation","totalItems","isValidFile","validItems","promises","all","ADD_ITEM","_ref7","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","_item","mainStatus","handleAdd","shouldAdd","loadComplete","_ref8","REQUEST_PREPARE_OUTPUT","_ref9","_ref9$failure","COMPLETE_LOAD_ITEM","_ref10","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","itemCanBeQueuedForProcessing","processNow","PROCESS_ITEM","totalCurrentUploads","processNext","queueEntry","itemReference","noop","allItemsProcessed","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","_ref11","formatFilename","createElement$1","tagName","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","describeArc","startAngle","endAngle","arcSweep","percentageArc","to","spin","align","ringStrokeWidth","ringFrom","ringTo","coordinates","progressIndicator","create$1","icon","isDisabled","write$1","shouldDisable","removeAttribute","fileActionButton","toNaturalFileSize","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_UPDATE_ITEM_META","toPercentage","create$3","didSetItemLoadProgress","title","didSetItemProcessProgress","didRequestItemProcessing","didAbortItemProcessing","didCompleteItemProcessing","fileStatus","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","calculateFileInfoOffset","getRemoveIndicatorAligment","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","getLoadIndicatorAlignment","getProcessIndicatorAlignment","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","processingCompleteIndicatorView","create$4","buttonFilter","LocalButtons","alignRemoveItemButton","enabledButtons","_map","buttonView","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","route","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","_ref12","create$5","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","write$3","topRect","bottomRect","panel","heightCurrent","createDragHelper","itemIds","prevIndex","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","dist","drop","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemsPerRow","horizontalSpace","getItemIndexByPosition","positionInView","itemRect","itemHorizontalMargin","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","indexX","indexY","itemTop","itemRight","itemBottom","dropAreaDimensions","setDimensions","create$8","lastItemSpanwDate","addItemView","addIndex","spawnDate","cooldown","moveItem","vx","vy","introItemView","removeItemView","getItemHeight","getItemWidth","dragItem","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","setHeight","setWidth","getGridIndex","getHeight","getWidth","getColIndex","visibleChildren","idx","childHeight","childBottom","childTop","route$2","DID_ADD_ITEM","DID_REMOVE_ITEM","write$5","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","vectorX","sign","vectorY","filterSetItemActions","list","create$9","overflowing","storeDragCoordinates","scopeLeft","scopeTop","clearDragCoordinates","route$3","DID_DRAG","DID_END_DRAG","write$6","overflow","newHeight","listScroller","attrToggle","enabledValue","resetFileInput","input","form","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","shouldCheckValidity","setCustomValidity","updateFieldValidityStatus","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","isActivationKey","keyCode","click","isLabelClick","updateLabelValue","caption","clickable","dropLabel","DID_SET_LABEL_IDLE","addBlob","moveBlob","hideBlob","explodeBlob","write$7","route$4","DID_DROP","drip","setInputFiles","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","didAddItem","fileItem","isLocalFile","shouldUseFileInput","dataContainer","didLoadItem$1","field","didPrepareOutput","didSetDisabled","didRemoveItem","didDefineValue","write$8","DID_DEFINE_VALUE","DID_PREPARE_OUTPUT","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","text$1","zip","epub","requestDataTransferItems","links","getLinks","hasFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","listen","unlisten","createPaster","create$d","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","clear$1","listModified","isUsingFilePond","itemAdded","itemRemoved","itemProcessed","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","debounce","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","hasCredits","frag","tabindex","rel","write$9","route$5","calculateRootBoundingBoxHeight","_root$ref","hopper","isMultiItem","maxItems","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","_listAvailableHeight","cappedHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","scrollList","itemList","newItem","removedItem","verticalItemCount","measureHeight","maxHeight","exceedsMaxFiles","totalBrowseItems","hasMaxItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","pond","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","_len3","_key3","removeFiles","_len4","_key4","mappedQueries","q","moveFile","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","app","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","createApp$1","PRIVATE_METHODS","createAppAPI","replacements","workerBlob","workerURL","Worker","transferList","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","plugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","apps","FileStatus","updateOptionTypes","hook","indexToRemove","context","matchedHooks","newHooks","newHook","plugins","_s","vehicle","v_class"],"mappings":"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","file":"js/CustomerProfile.1d730eeb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-container',{attrs:{\"modalsize\":'modal-lg'},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_vm._v(\" Add vehicle \")]},proxy:true},{key:\"button\",fn:function(){return [_c('div',{on:{\"click\":function($event){return _vm.addVehicle()}}},[_vm._v(\" Add vehicle \")])]},proxy:true},{key:\"body\",fn:function(){return [_c('h3',{staticClass:\"h3 text-dark-heading mb-3\"},[_vm._v(\" Vehicle genral settings \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.name),expression:\"newVehicle.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Vehicle name\"},domProps:{\"value\":(_vm.newVehicle.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle provider\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.provider),expression:\"newVehicle.provider\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"provider\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"customer\")]),_c('option',[_vm._v(\"Producer\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle group\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.group),expression:\"newVehicle.group\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"group\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',[_vm._v(\"SUV\")]),_c('option',[_vm._v(\"People Carrier\")]),_c('option',[_vm._v(\"Coach\")]),_c('option',[_vm._v(\"Box Van\")]),_c('option',[_vm._v(\"Truck\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle size\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.size),expression:\"newVehicle.size\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"size\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',[_vm._v(\"Small\")]),_c('option',[_vm._v(\"Large\")]),_c('option',[_vm._v(\"ExtraLarge\")]),_c('option',[_vm._v(\"DoubleLarge\")])])]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle type\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.type),expression:\"newVehicle.type\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',[_vm._v(\"Executive\")]),_c('option',[_vm._v(\"Luxury\")]),_c('option',[_vm._v(\"Ultimate\")]),_c('option',[_vm._v(\"SUV\")]),_c('option',[_vm._v(\"MPV\")]),_c('option',[_vm._v(\"Mini\")]),_c('option',[_vm._v(\"Midi\")]),_c('option',[_vm._v(\"Classic\")]),_c('option',[_vm._v(\"ThreeAxle\")]),_c('option',[_vm._v(\"DoubleDecker\")]),_c('option',[_vm._v(\"Van\")]),_c('option',[_vm._v(\"Truck\")]),_c('option',[_vm._v(\"unspecified\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle class\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.v_class),expression:\"newVehicle.v_class\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"v_class\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',[_vm._v(\"Low Emission\")]),_c('option',[_vm._v(\"Economy Class\")]),_c('option',[_vm._v(\"First Class\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle license\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.license),expression:\"newVehicle.license\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.license)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"license\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle category\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.category),expression:\"newVehicle.category\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}}),_c('option',[_vm._v(\"BUS\")]),_c('option',[_vm._v(\"CARGO\")]),_c('option',[_vm._v(\"SHIP\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle pax\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.pax),expression:\"newVehicle.pax\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.pax)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"pax\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle res\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.res),expression:\"newVehicle.res\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.res)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"res\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.min),expression:\"newVehicle.min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.max),expression:\"newVehicle.max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.t_min),expression:\"newVehicle.t_min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.t_min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"t_min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.t_max),expression:\"newVehicle.t_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.t_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"t_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.t_max),expression:\"newVehicle.t_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.t_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"t_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle s_min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.s_min),expression:\"newVehicle.s_min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.s_min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"s_min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle s_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.s_max),expression:\"newVehicle.s_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.newVehicle.s_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.newVehicle, \"s_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle ARG\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newVehicle.arg),expression:\"newVehicle.arg\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.newVehicle, \"arg\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"},domProps:{\"value\":_vm.newVehicle.arg}}),_c('option',[_vm._v(\"BUS\")]),_c('option',[_vm._v(\"CARGO\")])])]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('FileUploade',{attrs:{\"files\":_vm.vehicleFiles}})],1)])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n   <modal-container :modalsize=\"'modal-lg'\">\r\n      <template #heading> Add vehicle </template>\r\n      <template #button>\r\n         <div @click=\"addVehicle()\">\r\n            Add vehicle\r\n         </div>\r\n      </template>\r\n      <template #body>\r\n         <h3 class=\"h3 text-dark-heading mb-3\">\r\n            Vehicle genral settings\r\n         </h3>\r\n         <div class=\"row\">\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle name</label>\r\n               <input type=\"text\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.name\" placeholder=\"Vehicle name\">\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle provider</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.provider\">\r\n                  <option>customer</option>\r\n                  <option>Producer</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle group</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.group\">\r\n                  <option selected></option>\r\n                  <option>SUV</option>\r\n                  <option>People Carrier</option>\r\n                  <option>Coach</option>\r\n                  <option>Box Van</option>\r\n                  <option>Truck</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle size</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.size\">\r\n                  <option selected></option>\r\n                  <option>Small</option>\r\n                  <option>Large</option>\r\n                  <option>ExtraLarge</option>\r\n                  <option>DoubleLarge</option>\r\n               </select>\r\n            </div>\r\n\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle type</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.type\">\r\n                  <option selected></option>\r\n                  <option>Executive</option>\r\n                  <option>Luxury</option>\r\n                  <option>Ultimate</option>\r\n                  <option>SUV</option>\r\n                  <option>MPV</option>\r\n                  <option>Mini</option>\r\n                  <option>Midi</option>\r\n                  <option>Classic</option>\r\n                  <option>ThreeAxle</option>\r\n                  <option>DoubleDecker</option>\r\n                  <option>Van</option>\r\n                  <option>Truck</option>\r\n                  <option>unspecified</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle class</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.v_class\">\r\n                  <option selected></option>\r\n\r\n                  <option>Low Emission</option>\r\n                  <option>Economy Class</option>\r\n                  <option>First Class</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle license</label>\r\n               <input type=\"text\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.license\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle category</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.category\">\r\n                  <option selected></option>\r\n                  <option>BUS</option>\r\n                  <option>CARGO</option>\r\n                  <option>SHIP</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle pax</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.pax\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle res</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.res\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle min</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.min\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle max</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.max\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_min</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"newVehicle.t_min\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"newVehicle.t_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"newVehicle.t_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle s_min</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"newVehicle.s_min\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle s_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"newVehicle.s_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle ARG</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.arg\">\r\n                  <option selected :value=\"newVehicle.arg\"></option>\r\n                  <option>BUS</option>\r\n                  <option>CARGO</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <FileUploade :files=\"vehicleFiles\" />\r\n            </div>\r\n\r\n         </div>\r\n\r\n         <!-- <h3 class=\"h3 text-dark-heading mb-3 pt-3 border-top\">\r\n            Vehicle Equipment & Prices rate\r\n         </h3>\r\n         <div class=\"row\">\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Pay rate ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.payRate\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Fuel type</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"newVehicle.fuelType\">\r\n                  <option>Diesel</option>\r\n                  <option>Super</option>\r\n               </select>\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Standard consumption (L/100KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.standardConsumption\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Tire set price ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.tireSetPrice\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Tire lifespan (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.tireLifespan\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Service costs ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.serviceCosts\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Service interval (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.serviceInterval\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Rent daily rate ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.rentDailyRate\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Base price (HR)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.basePrice_hr\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Base price (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"newVehicle.basePrice_km\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n         </div> -->\r\n      </template>\r\n   </modal-container>\r\n</template>\r\n\r\n<script>\r\nimport ModalContainer from \"@/components/ModalContainer.vue\";\r\nimport FileUploade from \"@/components/forms/FileUploade.vue\";\r\n\r\nexport default {\r\n\tname: \"add-vehicle\",\r\n\tcomponents: {\r\n\t\tModalContainer,\r\n\t\tFileUploade\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvehicleFiles: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tvehicles() {\r\n\t\t\treturn this.$store.getters.vehicles;\r\n\t\t},\r\n\t\tvehiclesFilter() {\r\n\t\t\treturn this.$store.getters.vehiclesFilter;\r\n\t\t},\r\n\t\tnewVehicle: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.adminPanel.newVehicle;\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.$store.commit(\"newVehicle\", value);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tremoveItem(id) {\r\n\t\t\tthis.$router.push(\"/vehicles\");\r\n\t\t\treturn this.$store.commit(\"REMOVE_ITEM\", id);\r\n\t\t},\r\n\t\taddVehicle() {\r\n\t\t\tthis.notify();\r\n\t\t\treturn this.$store.commit(\"ADD_VEHICLE\");\r\n\t\t},\r\n\t\tnotify() {\r\n\t\t\tthis.$notify({\r\n\t\t\t\tgroup: \"add\",\r\n\t\t\t\ttype: \"success\",\r\n\t\t\t\ttitle: \"You add an item to the list successfly\",\r\n\t\t\t\tduration: 4000,\r\n\t\t\t\tspeed: 1000\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddVehicle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddVehicle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddVehicle.vue?vue&type=template&id=910138a8&\"\nimport script from \"./AddVehicle.vue?vue&type=script&lang=js&\"\nexport * from \"./AddVehicle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * vue-filepond v6.0.3\n * A handy FilePond adapter component for Vue\n * \n * Copyright (c) 2020 PQINA\n * https://pqina.nl/filepond\n * \n * Licensed under the MIT license.\n */\n\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(\"vueFilePond\", [\"exports\", \"vue\", \"filepond\"], factory);\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports, require(\"vue\"), require(\"filepond\"));\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, global.Vue, global.FilePond);\n    global.vueFilePond = mod.exports;\n  }\n})(typeof globalThis !== \"undefined\" ? globalThis : typeof self !== \"undefined\" ? self : this, function (_exports, _vue, _filepond) {\n  \"use strict\";\n\n  Object.defineProperty(_exports, \"__esModule\", {\n    value: true\n  });\n  _exports.default = _exports.setOptions = void 0;\n  _vue = _interopRequireDefault(_vue);\n\n  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n  // Methods not made available to the component\n  var filteredComponentMethods = ['setOptions', 'on', 'off', 'onOnce', 'appendTo', 'insertAfter', 'insertBefore', 'isAttachedTo', 'replaceElement', 'restoreElement', 'destroy']; // Test if is supported on this client\n\n  var isSupported = (0, _filepond.supported)(); // Setup initial prop types and update when plugins are added\n\n  var getNativeConstructorFromType = function getNativeConstructorFromType(type) {\n    return {\n      string: String,\n      boolean: Boolean,\n      array: Array,\n      function: Function,\n      int: Number,\n      serverapi: Object,\n      object: Object\n    }[type];\n  }; // Activated props\n\n\n  var props = {}; // Events that need to be mapped to emitters\n\n  var events = []; // Props to watch\n\n  var watch = {}; // all active instances\n\n  var instances = []; // global options\n\n  var globalOptions = {};\n\n  var setOptions = function setOptions(options) {\n    globalOptions = Object.assign(globalOptions, options);\n    instances.forEach(function (instance) {\n      instance.setOptions(globalOptions);\n    });\n  };\n\n  _exports.setOptions = setOptions;\n\n  var _default = function _default() {\n    // register plugins in FilePond\n    _filepond.registerPlugin.apply(void 0, arguments); // build events and props array\n\n\n    events.length = 0;\n\n    var _loop = function _loop(prop) {\n      // don't add events to the props array\n      if (/^on/.test(prop)) {\n        events.push(prop);\n        return \"continue\";\n      } // get property type ( can be either a String or the type defined within FilePond )\n\n\n      props[prop] = [String, getNativeConstructorFromType(_filepond.OptionTypes[prop])]; // setup watcher\n\n      watch[prop] = function (value) {\n        this._pond[prop] = value;\n      };\n    };\n\n    for (var prop in _filepond.OptionTypes) {\n      var _ret = _loop(prop);\n\n      if (_ret === \"continue\") continue;\n    } // create \n\n\n    return _vue.default.component('FilePond', {\n      name: 'FilePond',\n      props: props,\n      watch: watch,\n      render: function render(h) {\n        return h('div', {\n          'class': {\n            'filepond--wrapper': true\n          }\n        }, [h('input', {\n          attrs: {\n            id: this.id,\n            name: this.name,\n            type: 'file',\n            'class': this.className,\n            required: this.required,\n            multiple: this.allowMultiple,\n            accept: this.acceptedFileTypes,\n            capture: this.captureMethod\n          }\n        })]);\n      },\n      // Will setup FilePond instance when mounted\n      mounted: function mounted() {\n        var _this = this;\n\n        // exit here if not supported\n        if (!isSupported) {\n          return;\n        } // get pond element\n\n\n        this._element = this.$el.querySelector('input'); // Map FilePond callback methods to Vue $emitters\n\n        var options = events.reduce(function (obj, value) {\n          obj[value] = function () {\n            _this.$emit('input', _this._pond ? _this._pond.getFiles() : []);\n\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n\n            _this.$emit.apply(_this, [value.substr(2)].concat(args));\n          };\n\n          return obj;\n        }, {}); // Scoop up attributes that might not have been caught by Vue ( because the props object is extended dynamically )\n\n        var attrs = Object.assign({}, this.$attrs); // Create our pond\n\n        this._pond = (0, _filepond.create)(this._element, Object.assign({}, globalOptions, options, attrs, this.$options.propsData)); // Copy instance method references to component instance\n\n        Object.keys(this._pond).filter(function (key) {\n          return !filteredComponentMethods.includes(key);\n        }).forEach(function (key) {\n          _this[key] = _this._pond[key];\n        }); // Add to instances so we can apply global options when used\n\n        instances.push(this._pond);\n      },\n      // Will clean up FilePond instance when unmounted\n      destroyed: function destroyed() {\n        var _this2 = this;\n\n        // reference to detached method\n        var detached = this.$options.detached; // no longer attached, clean up\n\n        if (!this.$el.offsetParent) {\n          detached.call(this);\n          return;\n        } // if we're still attached it's likely a transition is running, we need to \n        // determine the moment when we're no longer attached to the DOM so we can \n        // clean up properly\n\n\n        var mutationHandler = function mutationHandler(mutations, observer) {\n          var removedNodes = (mutations[0] || {}).removedNodes || [];\n          var removedNode = removedNodes[0];\n          if (!removedNode || !removedNode.contains(_this2.$el)) return;\n          observer.disconnect();\n          detached.call(_this2);\n        }; // start observing parent element for changes to the DOM\n\n\n        var observer = new MutationObserver(mutationHandler);\n        observer.observe(document.documentElement, {\n          childList: true,\n          subtree: true\n        });\n      },\n      // called when the component root node has been detached\n      detached: function detached() {\n        // exit when no pond defined\n        if (!this._pond) return; // bye bye pond\n\n        this._pond.destroy(); // remove from instances\n\n\n        var index = instances.indexOf(this._pond);\n\n        if (index >= 0) {\n          instances.splice(index, 1);\n        } // clear reference\n\n\n        this._pond = null;\n      }\n    });\n  };\n\n  _exports.default = _default;\n});\n\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-container',{attrs:{\"modalsize\":'modal-lg'},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_vm._v(\"Setting\")]},proxy:true},{key:\"body\",fn:function(){return [_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"NachStarttInput\"}},[_vm._v(\"Nacht Start (Stunde):\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"NachtStartInput\",\"placeholder\":\"21\"}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"NachtEndeInput\"}},[_vm._v(\"Nacht Ende (Stunde):\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"NachtEndeInput\",\"placeholder\":\"4\"}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"NachtzuschlagInput\"}},[_vm._v(\"Nachtzuschlag (/h):\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"NachtzuschlagInput\",\"placeholder\":\"4\"}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"SonntagszuschlagInput\"}},[_vm._v(\"Sonntagszuschlag (/h):\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"SonntagszuschlagInput\",\"placeholder\":\"4\"}})]),_c('div',{staticClass:\"mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"FeiertagszuschlagInput\"}},[_vm._v(\"Feiertagszuschlag (/h):\")]),_c('input',{staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"FeiertagszuschlagInput\",\"placeholder\":\"4\"}})])]},proxy:true},{key:\"button\",fn:function(){return [_vm._v(\"Save update\")]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n   <modal-container :modalsize=\"'modal-lg'\">\r\n      <template #heading>Setting</template>\r\n      <template #body>\r\n         <div class=\"mb-3\">\r\n            <label for=\"NachStarttInput\" class=\"form-label\">Nacht Start (Stunde):</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"NachtStartInput\" placeholder=\"21\">\r\n         </div>\r\n         <div class=\"mb-3\">\r\n            <label for=\"NachtEndeInput\" class=\"form-label\">Nacht Ende (Stunde):</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"NachtEndeInput\" placeholder=\"4\">\r\n         </div>\r\n         <div class=\"mb-3\">\r\n            <label for=\"NachtzuschlagInput\" class=\"form-label\">Nachtzuschlag (/h):</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"NachtzuschlagInput\" placeholder=\"4\">\r\n         </div>\r\n         <div class=\"mb-3\">\r\n            <label for=\"SonntagszuschlagInput\" class=\"form-label\">Sonntagszuschlag (/h):</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"SonntagszuschlagInput\" placeholder=\"4\">\r\n         </div>\r\n         <div class=\"mb-3\">\r\n            <label for=\"FeiertagszuschlagInput\" class=\"form-label\">Feiertagszuschlag (/h):</label>\r\n            <input type=\"number\" class=\"form-control\" id=\"FeiertagszuschlagInput\" placeholder=\"4\">\r\n         </div>\r\n      </template>\r\n      <template #button>Save update</template>\r\n   </modal-container>\r\n</template>\r\n\r\n<script>\r\nimport ModalContainer from \"../../../../components/ModalContainer.vue\";\r\n\r\nexport default {\r\n\tname: \"vehicle-setting\",\r\n\tcomponents: {\r\n\t\tModalContainer\r\n\t},\r\n\tdata() {\r\n\t\treturn {};\r\n\t},\r\n\tmethods: {},\r\n\tmounted() {}\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VehicleSetting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VehicleSetting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./VehicleSetting.vue?vue&type=template&id=d1d538d8&\"\nimport script from \"./VehicleSetting.vue?vue&type=script&lang=js&\"\nexport * from \"./VehicleSetting.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('FilePond',{ref:\"pond\",staticClass:\"int-filepond--wrapper\",attrs:{\"name\":\"test\",\"label-idle\":\"Drop Vehicle resources here or <span class='filepond--label-action'>Browse</span>\",\"allow-multiple\":\"true\",\"allow-reorder\":\"true\",\"storeAsFile\":\"true\",\"accepted-file-types\":\"image/jpeg, image/png\",\"files\":_vm.files},on:{\"init\":_vm.handleFilePondInit}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * FilePondPluginFileValidateType 1.2.6\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\nconst plugin = ({ addFilter, utils }) => {\n  // get quick reference to Type utils\n  const {\n    Type,\n    isString,\n    replaceInString,\n    guesstimateMimeType,\n    getExtensionFromFilename,\n    getFilenameFromURL\n  } = utils;\n\n  const mimeTypeMatchesWildCard = (mimeType, wildcard) => {\n    const mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop(); // image/png -> image\n    const wildcardGroup = wildcard.slice(0, -2); // image/* -> image\n    return mimeTypeGroup === wildcardGroup;\n  };\n\n  const isValidMimeType = (acceptedTypes, userInputType) =>\n    acceptedTypes.some(acceptedType => {\n      // accepted is wildcard mime type\n      if (/\\*$/.test(acceptedType)) {\n        return mimeTypeMatchesWildCard(userInputType, acceptedType);\n      }\n\n      // is normal mime type\n      return acceptedType === userInputType;\n    });\n\n  const getItemType = item => {\n    // if the item is a url we guess the mime type by the extension\n    let type = '';\n    if (isString(item)) {\n      const filename = getFilenameFromURL(item);\n      const extension = getExtensionFromFilename(filename);\n      if (extension) {\n        type = guesstimateMimeType(extension);\n      }\n    } else {\n      type = item.type;\n    }\n\n    return type;\n  };\n\n  const validateFile = (item, acceptedFileTypes, typeDetector) => {\n    // no types defined, everything is allowed \\o/\n    if (acceptedFileTypes.length === 0) {\n      return true;\n    }\n\n    // gets the item type\n    const type = getItemType(item);\n\n    // no type detector, test now\n    if (!typeDetector) {\n      return isValidMimeType(acceptedFileTypes, type);\n    }\n\n    // use type detector\n    return new Promise((resolve, reject) => {\n      typeDetector(item, type)\n        .then(detectedType => {\n          if (isValidMimeType(acceptedFileTypes, detectedType)) {\n            resolve();\n          } else {\n            reject();\n          }\n        })\n        .catch(reject);\n    });\n  };\n\n  const applyMimeTypeMap = map => acceptedFileType =>\n    map[acceptedFileType] === null\n      ? false\n      : map[acceptedFileType] || acceptedFileType;\n\n  // setup attribute mapping for accept\n  addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', map =>\n    Object.assign(map, {\n      accept: 'acceptedFileTypes'\n    })\n  );\n\n  // filtering if an item is allowed in hopper\n  addFilter('ALLOW_HOPPER_ITEM', (file, { query }) => {\n    // if we are not doing file type validation exit\n    if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n      return true;\n    }\n\n    // we validate the file against the accepted file types\n    return validateFile(file, query('GET_ACCEPTED_FILE_TYPES'));\n  });\n\n  // called for each file that is loaded\n  // right before it is set to the item state\n  // should return a promise\n  addFilter(\n    'LOAD_FILE',\n    (file, { query }) =>\n      new Promise((resolve, reject) => {\n        if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n          resolve(file);\n          return;\n        }\n\n        const acceptedFileTypes = query('GET_ACCEPTED_FILE_TYPES');\n\n        // custom type detector method\n        const typeDetector = query('GET_FILE_VALIDATE_TYPE_DETECT_TYPE');\n\n        // if invalid, exit here\n        const validationResult = validateFile(\n          file,\n          acceptedFileTypes,\n          typeDetector\n        );\n\n        const handleRejection = () => {\n          const acceptedFileTypesMapped = acceptedFileTypes\n            .map(\n              applyMimeTypeMap(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP')\n              )\n            )\n            .filter(label => label !== false);\n\n          reject({\n            status: {\n              main: query('GET_LABEL_FILE_TYPE_NOT_ALLOWED'),\n              sub: replaceInString(\n                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES'),\n                {\n                  allTypes: acceptedFileTypesMapped.join(', '),\n                  allButLastType: acceptedFileTypesMapped\n                    .slice(0, -1)\n                    .join(', '),\n                  lastType:\n                    acceptedFileTypesMapped[acceptedFileTypesMapped.length - 1]\n                }\n              )\n            }\n          });\n        };\n\n        // has returned new filename immidiately\n        if (typeof validationResult === 'boolean') {\n          if (!validationResult) {\n            return handleRejection();\n          }\n          return resolve(file);\n        }\n\n        // is promise\n        validationResult\n          .then(() => {\n            resolve(file);\n          })\n          .catch(handleRejection);\n      })\n  );\n\n  // expose plugin\n  return {\n    // default options\n    options: {\n      // Enable or disable file type validation\n      allowFileTypeValidation: [true, Type.BOOLEAN],\n\n      // What file types to accept\n      acceptedFileTypes: [[], Type.ARRAY],\n      // - must be comma separated\n      // - mime types: image/png, image/jpeg, image/gif\n      // - extensions: .png, .jpg, .jpeg ( not enabled yet )\n      // - wildcards: image/*\n\n      // label to show when a type is not allowed\n      labelFileTypeNotAllowed: ['File is of invalid type', Type.STRING],\n\n      // nicer label\n      fileValidateTypeLabelExpectedTypes: [\n        'Expects {allButLastType} or {lastType}',\n        Type.STRING\n      ],\n\n      // map mime types to extensions\n      fileValidateTypeLabelExpectedTypesMap: [{}, Type.OBJECT],\n\n      // Custom function to detect type of file\n      fileValidateTypeDetectType: [null, Type.FUNCTION]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n","/*!\n * FilePondPluginImagePreview 4.6.6\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n// test if file is of type image and can be viewed in canvas\nconst isPreviewableImage = file => /^image/.test(file.type);\n\nconst vectorMultiply = (v, amount) => createVector(v.x * amount, v.y * amount);\n\nconst vectorAdd = (a, b) => createVector(a.x + b.x, a.y + b.y);\n\nconst vectorNormalize = v => {\n  const l = Math.sqrt(v.x * v.x + v.y * v.y);\n  if (l === 0) {\n    return {\n      x: 0,\n      y: 0\n    };\n  }\n  return createVector(v.x / l, v.y / l);\n};\n\nconst vectorRotate = (v, radians, origin) => {\n  const cos = Math.cos(radians);\n  const sin = Math.sin(radians);\n  const t = createVector(v.x - origin.x, v.y - origin.y);\n  return createVector(\n    origin.x + cos * t.x - sin * t.y,\n    origin.y + sin * t.x + cos * t.y\n  );\n};\n\nconst createVector = (x = 0, y = 0) => ({ x, y });\n\nconst getMarkupValue = (value, size, scalar = 1, axis) => {\n  if (typeof value === 'string') {\n    return parseFloat(value) * scalar;\n  }\n  if (typeof value === 'number') {\n    return value * (axis ? size[axis] : Math.min(size.width, size.height));\n  }\n  return;\n};\n\nconst getMarkupStyles = (markup, size, scale) => {\n  const lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n  const fill = markup.backgroundColor || markup.fontColor || 'transparent';\n  const stroke = markup.borderColor || markup.lineColor || 'transparent';\n  const strokeWidth = getMarkupValue(\n    markup.borderWidth || markup.lineWidth,\n    size,\n    scale\n  );\n  const lineCap = markup.lineCap || 'round';\n  const lineJoin = markup.lineJoin || 'round';\n  const dashes =\n    typeof lineStyle === 'string'\n      ? ''\n      : lineStyle.map(v => getMarkupValue(v, size, scale)).join(',');\n  const opacity = markup.opacity || 1;\n  return {\n    'stroke-linecap': lineCap,\n    'stroke-linejoin': lineJoin,\n    'stroke-width': strokeWidth || 0,\n    'stroke-dasharray': dashes,\n    stroke,\n    fill,\n    opacity\n  };\n};\n\nconst isDefined = value => value != null;\n\nconst getMarkupRect = (rect, size, scalar = 1) => {\n  let left =\n    getMarkupValue(rect.x, size, scalar, 'width') ||\n    getMarkupValue(rect.left, size, scalar, 'width');\n  let top =\n    getMarkupValue(rect.y, size, scalar, 'height') ||\n    getMarkupValue(rect.top, size, scalar, 'height');\n  let width = getMarkupValue(rect.width, size, scalar, 'width');\n  let height = getMarkupValue(rect.height, size, scalar, 'height');\n  let right = getMarkupValue(rect.right, size, scalar, 'width');\n  let bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n  if (!isDefined(top)) {\n    if (isDefined(height) && isDefined(bottom)) {\n      top = size.height - height - bottom;\n    } else {\n      top = bottom;\n    }\n  }\n\n  if (!isDefined(left)) {\n    if (isDefined(width) && isDefined(right)) {\n      left = size.width - width - right;\n    } else {\n      left = right;\n    }\n  }\n\n  if (!isDefined(width)) {\n    if (isDefined(left) && isDefined(right)) {\n      width = size.width - left - right;\n    } else {\n      width = 0;\n    }\n  }\n\n  if (!isDefined(height)) {\n    if (isDefined(top) && isDefined(bottom)) {\n      height = size.height - top - bottom;\n    } else {\n      height = 0;\n    }\n  }\n\n  return {\n    x: left || 0,\n    y: top || 0,\n    width: width || 0,\n    height: height || 0\n  };\n};\n\nconst pointsToPathShape = points =>\n  points\n    .map((point, index) => `${index === 0 ? 'M' : 'L'} ${point.x} ${point.y}`)\n    .join(' ');\n\nconst setAttributes = (element, attr) =>\n  Object.keys(attr).forEach(key => element.setAttribute(key, attr[key]));\n\nconst ns = 'http://www.w3.org/2000/svg';\nconst svg = (tag, attr) => {\n  const element = document.createElementNS(ns, tag);\n  if (attr) {\n    setAttributes(element, attr);\n  }\n  return element;\n};\n\nconst updateRect = element =>\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles\n  });\n\nconst updateEllipse = element => {\n  const cx = element.rect.x + element.rect.width * 0.5;\n  const cy = element.rect.y + element.rect.height * 0.5;\n  const rx = element.rect.width * 0.5;\n  const ry = element.rect.height * 0.5;\n  return setAttributes(element, {\n    cx,\n    cy,\n    rx,\n    ry,\n    ...element.styles\n  });\n};\n\nconst IMAGE_FIT_STYLE = {\n  contain: 'xMidYMid meet',\n  cover: 'xMidYMid slice'\n};\n\nconst updateImage = (element, markup) => {\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n  });\n};\n\nconst TEXT_ANCHOR = {\n  left: 'start',\n  center: 'middle',\n  right: 'end'\n};\n\nconst updateText = (element, markup, size, scale) => {\n  const fontSize = getMarkupValue(markup.fontSize, size, scale);\n  const fontFamily = markup.fontFamily || 'sans-serif';\n  const fontWeight = markup.fontWeight || 'normal';\n  const textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    'stroke-width': 0,\n    'font-weight': fontWeight,\n    'font-size': fontSize,\n    'font-family': fontFamily,\n    'text-anchor': textAlign\n  });\n\n  // update text\n  if (element.text !== markup.text) {\n    element.text = markup.text;\n    element.textContent = markup.text.length ? markup.text : ' ';\n  }\n};\n\nconst updateLine = (element, markup, size, scale) => {\n  setAttributes(element, {\n    ...element.rect,\n    ...element.styles,\n    fill: 'none'\n  });\n\n  const line = element.childNodes[0];\n  const begin = element.childNodes[1];\n  const end = element.childNodes[2];\n\n  const origin = element.rect;\n\n  const target = {\n    x: element.rect.x + element.rect.width,\n    y: element.rect.y + element.rect.height\n  };\n\n  setAttributes(line, {\n    x1: origin.x,\n    y1: origin.y,\n    x2: target.x,\n    y2: target.y\n  });\n\n  if (!markup.lineDecoration) return;\n\n  begin.style.display = 'none';\n  end.style.display = 'none';\n\n  const v = vectorNormalize({\n    x: target.x - origin.x,\n    y: target.y - origin.y\n  });\n\n  const l = getMarkupValue(0.05, size, scale);\n\n  if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n    const arrowBeginRotationPoint = vectorMultiply(v, l);\n    const arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n    const arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n    const arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n    setAttributes(begin, {\n      style: 'display:block;',\n      d: `M${arrowBeginA.x},${arrowBeginA.y} L${origin.x},${origin.y} L${\n        arrowBeginB.x\n      },${arrowBeginB.y}`\n    });\n  }\n\n  if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n    const arrowEndRotationPoint = vectorMultiply(v, -l);\n    const arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n    const arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n    const arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n    setAttributes(end, {\n      style: 'display:block;',\n      d: `M${arrowEndA.x},${arrowEndA.y} L${target.x},${target.y} L${\n        arrowEndB.x\n      },${arrowEndB.y}`\n    });\n  }\n};\n\nconst updatePath = (element, markup, size, scale) => {\n  setAttributes(element, {\n    ...element.styles,\n    fill: 'none',\n    d: pointsToPathShape(\n      markup.points.map(point => ({\n        x: getMarkupValue(point.x, size, scale, 'width'),\n        y: getMarkupValue(point.y, size, scale, 'height')\n      }))\n    )\n  });\n};\n\nconst createShape = node => markup => svg(node, { id: markup.id });\n\nconst createImage = markup => {\n  const shape = svg('image', {\n    id: markup.id,\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n    opacity: '0'\n  });\n  shape.onload = () => {\n    shape.setAttribute('opacity', markup.opacity || 1);\n  };\n  shape.setAttributeNS(\n    'http://www.w3.org/1999/xlink',\n    'xlink:href',\n    markup.src\n  );\n  return shape;\n};\n\nconst createLine = markup => {\n  const shape = svg('g', {\n    id: markup.id,\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round'\n  });\n\n  const line = svg('line');\n  shape.appendChild(line);\n\n  const begin = svg('path');\n  shape.appendChild(begin);\n\n  const end = svg('path');\n  shape.appendChild(end);\n\n  return shape;\n};\n\nconst CREATE_TYPE_ROUTES = {\n  image: createImage,\n  rect: createShape('rect'),\n  ellipse: createShape('ellipse'),\n  text: createShape('text'),\n  path: createShape('path'),\n  line: createLine\n};\n\nconst UPDATE_TYPE_ROUTES = {\n  rect: updateRect,\n  ellipse: updateEllipse,\n  image: updateImage,\n  text: updateText,\n  path: updatePath,\n  line: updateLine\n};\n\nconst createMarkupByType = (type, markup) => CREATE_TYPE_ROUTES[type](markup);\n\nconst updateMarkupByType = (element, type, markup, size, scale) => {\n  if (type !== 'path') {\n    element.rect = getMarkupRect(markup, size, scale);\n  }\n  element.styles = getMarkupStyles(markup, size, scale);\n  UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n};\n\nconst MARKUP_RECT = [\n  'x',\n  'y',\n  'left',\n  'top',\n  'right',\n  'bottom',\n  'width',\n  'height'\n];\n\nconst toOptionalFraction = value =>\n  typeof value === 'string' && /%/.test(value)\n    ? parseFloat(value) / 100\n    : value;\n\n// adds default markup properties, clones markup\nconst prepareMarkup = markup => {\n  const [type, props] = markup;\n\n  const rect = props.points\n    ? {}\n    : MARKUP_RECT.reduce((prev, curr) => {\n        prev[curr] = toOptionalFraction(props[curr]);\n        return prev;\n      }, {});\n\n  return [\n    type,\n    {\n      zIndex: 0,\n      ...props,\n      ...rect\n    }\n  ];\n};\n\nconst sortMarkupByZIndex = (a, b) => {\n  if (a[1].zIndex > b[1].zIndex) {\n    return 1;\n  }\n  if (a[1].zIndex < b[1].zIndex) {\n    return -1;\n  }\n  return 0;\n};\n\nconst createMarkupView = _ =>\n  _.utils.createView({\n    name: 'image-preview-markup',\n    tag: 'svg',\n    ignoreRect: true,\n    mixins: {\n      apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n    },\n    write: ({ root, props }) => {\n      if (!props.dirty) return;\n\n      const { crop, resize, markup } = props;\n\n      const viewWidth = props.width;\n      const viewHeight = props.height;\n\n      let cropWidth = crop.width;\n      let cropHeight = crop.height;\n\n      if (resize) {\n        const { size } = resize;\n\n        let outputWidth = size && size.width;\n        let outputHeight = size && size.height;\n        const outputFit = resize.mode;\n        const outputUpscale = resize.upscale;\n\n        if (outputWidth && !outputHeight) outputHeight = outputWidth;\n        if (outputHeight && !outputWidth) outputWidth = outputHeight;\n\n        const shouldUpscale =\n          cropWidth < outputWidth && cropHeight < outputHeight;\n\n        if (!shouldUpscale || (shouldUpscale && outputUpscale)) {\n          let scalarWidth = outputWidth / cropWidth;\n          let scalarHeight = outputHeight / cropHeight;\n\n          if (outputFit === 'force') {\n            cropWidth = outputWidth;\n            cropHeight = outputHeight;\n          } else {\n            let scalar;\n            if (outputFit === 'cover') {\n              scalar = Math.max(scalarWidth, scalarHeight);\n            } else if (outputFit === 'contain') {\n              scalar = Math.min(scalarWidth, scalarHeight);\n            }\n            cropWidth = cropWidth * scalar;\n            cropHeight = cropHeight * scalar;\n          }\n        }\n      }\n\n      const size = {\n        width: viewWidth,\n        height: viewHeight\n      };\n\n      root.element.setAttribute('width', size.width);\n      root.element.setAttribute('height', size.height);\n\n      const scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);\n\n      // clear\n      root.element.innerHTML = '';\n\n      // get filter\n      const markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER');\n\n      // draw new\n      markup\n        .filter(markupFilter)\n        .map(prepareMarkup)\n        .sort(sortMarkupByZIndex)\n        .forEach(markup => {\n          const [type, settings] = markup;\n\n          // create\n          const element = createMarkupByType(type, settings);\n\n          // update\n          updateMarkupByType(element, type, settings, size, scale);\n\n          // add\n          root.element.appendChild(element);\n        });\n    }\n  });\n\nconst createVector$1 = (x, y) => ({ x, y });\n\nconst vectorDot = (a, b) => a.x * b.x + a.y * b.y;\n\nconst vectorSubtract = (a, b) => createVector$1(a.x - b.x, a.y - b.y);\n\nconst vectorDistanceSquared = (a, b) =>\n  vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n\nconst vectorDistance = (a, b) => Math.sqrt(vectorDistanceSquared(a, b));\n\nconst getOffsetPointOnEdge = (length, rotation) => {\n  const a = length;\n\n  const A = 1.5707963267948966;\n  const B = rotation;\n  const C = 1.5707963267948966 - rotation;\n\n  const sinA = Math.sin(A);\n  const sinB = Math.sin(B);\n  const sinC = Math.sin(C);\n  const cosC = Math.cos(C);\n  const ratio = a / sinA;\n  const b = ratio * sinB;\n  const c = ratio * sinC;\n\n  return createVector$1(cosC * b, cosC * c);\n};\n\nconst getRotatedRectSize = (rect, rotation) => {\n  const w = rect.width;\n  const h = rect.height;\n\n  const hor = getOffsetPointOnEdge(w, rotation);\n  const ver = getOffsetPointOnEdge(h, rotation);\n\n  const tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n  const tr = createVector$1(\n    rect.x + rect.width + Math.abs(ver.y),\n    rect.y + Math.abs(ver.x)\n  );\n\n  const bl = createVector$1(\n    rect.x - Math.abs(ver.y),\n    rect.y + rect.height - Math.abs(ver.x)\n  );\n\n  return {\n    width: vectorDistance(tl, tr),\n    height: vectorDistance(tl, bl)\n  };\n};\n\nconst calculateCanvasSize = (image, canvasAspectRatio, zoom = 1) => {\n  const imageAspectRatio = image.height / image.width;\n\n  // determine actual pixels on x and y axis\n  let canvasWidth = 1;\n  let canvasHeight = canvasAspectRatio;\n  let imgWidth = 1;\n  let imgHeight = imageAspectRatio;\n  if (imgHeight > canvasHeight) {\n    imgHeight = canvasHeight;\n    imgWidth = imgHeight / imageAspectRatio;\n  }\n\n  const scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n  const width = image.width / (zoom * scalar * imgWidth);\n  const height = width * canvasAspectRatio;\n\n  return {\n    width: width,\n    height: height\n  };\n};\n\nconst getImageRectZoomFactor = (imageRect, cropRect, rotation, center) => {\n  // calculate available space round image center position\n  const cx = center.x > 0.5 ? 1 - center.x : center.x;\n  const cy = center.y > 0.5 ? 1 - center.y : center.y;\n  const imageWidth = cx * 2 * imageRect.width;\n  const imageHeight = cy * 2 * imageRect.height;\n\n  // calculate rotated crop rectangle size\n  const rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n  // calculate scalar required to fit image\n  return Math.max(\n    rotatedCropSize.width / imageWidth,\n    rotatedCropSize.height / imageHeight\n  );\n};\n\nconst getCenteredCropRect = (container, aspectRatio) => {\n  let width = container.width;\n  let height = width * aspectRatio;\n  if (height > container.height) {\n    height = container.height;\n    width = height / aspectRatio;\n  }\n  const x = (container.width - width) * 0.5;\n  const y = (container.height - height) * 0.5;\n\n  return {\n    x,\n    y,\n    width,\n    height\n  };\n};\n\nconst getCurrentCropSize = (imageSize, crop = {}) => {\n  let { zoom, rotation, center, aspectRatio } = crop;\n\n  if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n\n  const canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n  const canvasCenter = {\n    x: canvasSize.width * 0.5,\n    y: canvasSize.height * 0.5\n  };\n\n  const stage = {\n    x: 0,\n    y: 0,\n    width: canvasSize.width,\n    height: canvasSize.height,\n    center: canvasCenter\n  };\n\n  const shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n  const stageZoomFactor = getImageRectZoomFactor(\n    imageSize,\n    getCenteredCropRect(stage, aspectRatio),\n    rotation,\n    shouldLimit ? center : { x: 0.5, y: 0.5 }\n  );\n\n  const scale = zoom * stageZoomFactor;\n\n  // start drawing\n  return {\n    widthFloat: canvasSize.width / scale,\n    heightFloat: canvasSize.height / scale,\n    width: Math.round(canvasSize.width / scale),\n    height: Math.round(canvasSize.height / scale)\n  };\n};\n\nconst IMAGE_SCALE_SPRING_PROPS = {\n  type: 'spring',\n  stiffness: 0.5,\n  damping: 0.45,\n  mass: 10\n};\n\n// does horizontal and vertical flipping\nconst createBitmapView = _ =>\n  _.utils.createView({\n    name: 'image-bitmap',\n    ignoreRect: true,\n    mixins: { styles: ['scaleX', 'scaleY'] },\n    create: ({ root, props }) => {\n      root.appendChild(props.image);\n    }\n  });\n\n// shifts and rotates image\nconst createImageCanvasWrapper = _ =>\n  _.utils.createView({\n    name: 'image-canvas-wrapper',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: ['crop', 'width', 'height'],\n      styles: [\n        'originX',\n        'originY',\n        'translateX',\n        'translateY',\n        'scaleX',\n        'scaleY',\n        'rotateZ'\n      ],\n      animations: {\n        originX: IMAGE_SCALE_SPRING_PROPS,\n        originY: IMAGE_SCALE_SPRING_PROPS,\n        scaleX: IMAGE_SCALE_SPRING_PROPS,\n        scaleY: IMAGE_SCALE_SPRING_PROPS,\n        translateX: IMAGE_SCALE_SPRING_PROPS,\n        translateY: IMAGE_SCALE_SPRING_PROPS,\n        rotateZ: IMAGE_SCALE_SPRING_PROPS\n      }\n    },\n    create: ({ root, props }) => {\n      props.width = props.image.width;\n      props.height = props.image.height;\n      root.ref.bitmap = root.appendChildView(\n        root.createChildView(createBitmapView(_), { image: props.image })\n      );\n    },\n    write: ({ root, props }) => {\n      const { flip } = props.crop;\n      const { bitmap } = root.ref;\n      bitmap.scaleX = flip.horizontal ? -1 : 1;\n      bitmap.scaleY = flip.vertical ? -1 : 1;\n    }\n  });\n\n// clips canvas to correct aspect ratio\nconst createClipView = _ =>\n  _.utils.createView({\n    name: 'image-clip',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: [\n        'crop',\n        'markup',\n        'resize',\n        'width',\n        'height',\n        'dirty',\n        'background'\n      ],\n      styles: ['width', 'height', 'opacity'],\n      animations: {\n        opacity: { type: 'tween', duration: 250 }\n      }\n    },\n    didWriteView: function({ root, props }) {\n      if (!props.background) return;\n      root.element.style.backgroundColor = props.background;\n    },\n    create: ({ root, props }) => {\n      root.ref.image = root.appendChildView(\n        root.createChildView(\n          createImageCanvasWrapper(_),\n          Object.assign({}, props)\n        )\n      );\n\n      root.ref.createMarkup = () => {\n        if (root.ref.markup) return;\n        root.ref.markup = root.appendChildView(\n          root.createChildView(createMarkupView(_), Object.assign({}, props))\n        );\n      };\n\n      root.ref.destroyMarkup = () => {\n        if (!root.ref.markup) return;\n        root.removeChildView(root.ref.markup);\n        root.ref.markup = null;\n      };\n\n      // set up transparency grid\n      const transparencyIndicator = root.query(\n        'GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR'\n      );\n      if (transparencyIndicator === null) return;\n\n      // grid pattern\n      if (transparencyIndicator === 'grid') {\n        root.element.dataset.transparencyIndicator = transparencyIndicator;\n      }\n      // basic color\n      else {\n        root.element.dataset.transparencyIndicator = 'color';\n      }\n    },\n    write: ({ root, props, shouldOptimize }) => {\n      const { crop, markup, resize, dirty, width, height } = props;\n\n      root.ref.image.crop = crop;\n\n      const stage = {\n        x: 0,\n        y: 0,\n        width,\n        height,\n        center: {\n          x: width * 0.5,\n          y: height * 0.5\n        }\n      };\n\n      const image = {\n        width: root.ref.image.width,\n        height: root.ref.image.height\n      };\n\n      const origin = {\n        x: crop.center.x * image.width,\n        y: crop.center.y * image.height\n      };\n\n      const translation = {\n        x: stage.center.x - image.width * crop.center.x,\n        y: stage.center.y - image.height * crop.center.y\n      };\n\n      const rotation = Math.PI * 2 + (crop.rotation % (Math.PI * 2));\n\n      const cropAspectRatio = crop.aspectRatio || image.height / image.width;\n\n      const shouldLimit =\n        typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n      const stageZoomFactor = getImageRectZoomFactor(\n        image,\n        getCenteredCropRect(stage, cropAspectRatio),\n        rotation,\n        shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n      );\n\n      const scale = crop.zoom * stageZoomFactor;\n\n      // update markup view\n      if (markup && markup.length) {\n        root.ref.createMarkup();\n        root.ref.markup.width = width;\n        root.ref.markup.height = height;\n        root.ref.markup.resize = resize;\n        root.ref.markup.dirty = dirty;\n        root.ref.markup.markup = markup;\n        root.ref.markup.crop = getCurrentCropSize(image, crop);\n      } else if (root.ref.markup) {\n        root.ref.destroyMarkup();\n      }\n\n      // update image view\n      const imageView = root.ref.image;\n\n      // don't update clip layout\n      if (shouldOptimize) {\n        imageView.originX = null;\n        imageView.originY = null;\n        imageView.translateX = null;\n        imageView.translateY = null;\n        imageView.rotateZ = null;\n        imageView.scaleX = null;\n        imageView.scaleY = null;\n        return;\n      }\n\n      imageView.originX = origin.x;\n      imageView.originY = origin.y;\n      imageView.translateX = translation.x;\n      imageView.translateY = translation.y;\n      imageView.rotateZ = rotation;\n      imageView.scaleX = scale;\n      imageView.scaleY = scale;\n    }\n  });\n\nconst createImageView = _ =>\n  _.utils.createView({\n    name: 'image-preview',\n    tag: 'div',\n    ignoreRect: true,\n    mixins: {\n      apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n      styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n      animations: {\n        scaleX: IMAGE_SCALE_SPRING_PROPS,\n        scaleY: IMAGE_SCALE_SPRING_PROPS,\n        translateY: IMAGE_SCALE_SPRING_PROPS,\n        opacity: { type: 'tween', duration: 400 }\n      }\n    },\n    create: ({ root, props }) => {\n      root.ref.clip = root.appendChildView(\n        root.createChildView(createClipView(_), {\n          id: props.id,\n          image: props.image,\n          crop: props.crop,\n          markup: props.markup,\n          resize: props.resize,\n          dirty: props.dirty,\n          background: props.background\n        })\n      );\n    },\n    write: ({ root, props, shouldOptimize }) => {\n      const { clip } = root.ref;\n\n      const { image, crop, markup, resize, dirty } = props;\n\n      clip.crop = crop;\n      clip.markup = markup;\n      clip.resize = resize;\n      clip.dirty = dirty;\n\n      // don't update clip layout\n      clip.opacity = shouldOptimize ? 0 : 1;\n\n      // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n      if (shouldOptimize || root.rect.element.hidden) return;\n\n      // calculate scaled preview image size\n      const imageAspectRatio = image.height / image.width;\n      let aspectRatio = crop.aspectRatio || imageAspectRatio;\n\n      // calculate container size\n      const containerWidth = root.rect.inner.width;\n      const containerHeight = root.rect.inner.height;\n\n      let fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      const minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n      const maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n      const panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n      const allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n      if (panelAspectRatio && !allowMultiple) {\n        fixedPreviewHeight = containerWidth * panelAspectRatio;\n        aspectRatio = panelAspectRatio;\n      }\n\n      // determine clip width and height\n      let clipHeight =\n        fixedPreviewHeight !== null\n          ? fixedPreviewHeight\n          : Math.max(\n              minPreviewHeight,\n              Math.min(containerWidth * aspectRatio, maxPreviewHeight)\n            );\n\n      let clipWidth = clipHeight / aspectRatio;\n      if (clipWidth > containerWidth) {\n        clipWidth = containerWidth;\n        clipHeight = clipWidth * aspectRatio;\n      }\n\n      if (clipHeight > containerHeight) {\n        clipHeight = containerHeight;\n        clipWidth = containerHeight / aspectRatio;\n      }\n\n      clip.width = clipWidth;\n      clip.height = clipHeight;\n    }\n  });\n\nlet SVG_MASK = `<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\n    <defs>\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\n            <stop offset='50%' stop-color='#000000'/>\n            <stop offset='56%' stop-color='#0a0a0a'/>\n            <stop offset='63%' stop-color='#262626'/>\n            <stop offset='69%' stop-color='#4f4f4f'/>\n            <stop offset='75%' stop-color='#808080'/>\n            <stop offset='81%' stop-color='#b1b1b1'/>\n            <stop offset='88%' stop-color='#dadada'/>\n            <stop offset='94%' stop-color='#f6f6f6'/>\n            <stop offset='100%' stop-color='#ffffff'/>\n        </radialGradient>\n        <mask id=\"mask-__UID__\">\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\n        </mask>\n    </defs>\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\n</svg>`;\n\nlet checkedMyBases = false;\nlet SVGMaskUniqueId = 0;\n\nconst createImageOverlayView = fpAPI =>\n  fpAPI.utils.createView({\n    name: 'image-preview-overlay',\n    tag: 'div',\n    ignoreRect: true,\n    create: ({ root, props }) => {\n      if (!checkedMyBases && document.querySelector('base')) {\n        SVG_MASK = SVG_MASK.replace(\n          /url\\(\\#/g,\n          'url(' + window.location.href.replace(window.location.hash, '') + '#'\n        );\n        checkedMyBases = true;\n      }\n\n      SVGMaskUniqueId++;\n      root.element.classList.add(\n        `filepond--image-preview-overlay-${props.status}`\n      );\n      root.element.innerHTML = SVG_MASK.replace(/__UID__/g, SVGMaskUniqueId);\n    },\n    mixins: {\n      styles: ['opacity'],\n      animations: {\n        opacity: { type: 'spring', mass: 25 }\n      }\n    }\n  });\n\n/**\n * Bitmap Worker\n */\nconst BitmapWorker = function() {\n  self.onmessage = e => {\n    createImageBitmap(e.data.message.file).then(bitmap => {\n      self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);\n    });\n  };\n};\n\n/**\n * ColorMatrix Worker\n */\nconst ColorMatrixWorker = function() {\n  self.onmessage = e => {\n    const imageData = e.data.message.imageData;\n    const matrix = e.data.message.colorMatrix;\n\n    const data = imageData.data;\n    const l = data.length;\n\n    const m11 = matrix[0];\n    const m12 = matrix[1];\n    const m13 = matrix[2];\n    const m14 = matrix[3];\n    const m15 = matrix[4];\n\n    const m21 = matrix[5];\n    const m22 = matrix[6];\n    const m23 = matrix[7];\n    const m24 = matrix[8];\n    const m25 = matrix[9];\n\n    const m31 = matrix[10];\n    const m32 = matrix[11];\n    const m33 = matrix[12];\n    const m34 = matrix[13];\n    const m35 = matrix[14];\n\n    const m41 = matrix[15];\n    const m42 = matrix[16];\n    const m43 = matrix[17];\n    const m44 = matrix[18];\n    const m45 = matrix[19];\n\n    let index = 0,\n      r = 0.0,\n      g = 0.0,\n      b = 0.0,\n      a = 0.0;\n\n    for (; index < l; index += 4) {\n      r = data[index] / 255;\n      g = data[index + 1] / 255;\n      b = data[index + 2] / 255;\n      a = data[index + 3] / 255;\n      data[index] = Math.max(\n        0,\n        Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)\n      );\n      data[index + 1] = Math.max(\n        0,\n        Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)\n      );\n      data[index + 2] = Math.max(\n        0,\n        Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)\n      );\n      data[index + 3] = Math.max(\n        0,\n        Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)\n      );\n    }\n\n    self.postMessage({ id: e.data.id, message: imageData }, [\n      imageData.data.buffer\n    ]);\n  };\n};\n\nconst getImageSize = (url, cb) => {\n  let image = new Image();\n  image.onload = () => {\n    const width = image.naturalWidth;\n    const height = image.naturalHeight;\n    image = null;\n    cb(width, height);\n  };\n  image.src = url;\n};\n\nconst transforms = {\n  1: () => [1, 0, 0, 1, 0, 0],\n  2: width => [-1, 0, 0, 1, width, 0],\n  3: (width, height) => [-1, 0, 0, -1, width, height],\n  4: (width, height) => [1, 0, 0, -1, 0, height],\n  5: () => [0, 1, 1, 0, 0, 0],\n  6: (width, height) => [0, 1, -1, 0, height, 0],\n  7: (width, height) => [0, -1, -1, 0, height, width],\n  8: width => [0, -1, 1, 0, 0, width]\n};\n\nconst fixImageOrientation = (ctx, width, height, orientation) => {\n  // no orientation supplied\n  if (orientation === -1) {\n    return;\n  }\n\n  ctx.transform.apply(ctx, transforms[orientation](width, height));\n};\n\n// draws the preview image to canvas\nconst createPreviewImage = (data, width, height, orientation) => {\n  // can't draw on half pixels\n  width = Math.round(width);\n  height = Math.round(height);\n\n  // draw image\n  const canvas = document.createElement('canvas');\n  canvas.width = width;\n  canvas.height = height;\n  const ctx = canvas.getContext('2d');\n\n  // if is rotated incorrectly swap width and height\n  if (orientation >= 5 && orientation <= 8) {\n    [width, height] = [height, width];\n  }\n\n  // correct image orientation\n  fixImageOrientation(ctx, width, height, orientation);\n\n  // draw the image\n  ctx.drawImage(data, 0, 0, width, height);\n\n  return canvas;\n};\n\nconst isBitmap = file => /^image/.test(file.type) && !/svg/.test(file.type);\n\nconst MAX_WIDTH = 10;\nconst MAX_HEIGHT = 10;\n\nconst calculateAverageColor = image => {\n  const scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  const width = (canvas.width = Math.ceil(image.width * scalar));\n  const height = (canvas.height = Math.ceil(image.height * scalar));\n  ctx.drawImage(image, 0, 0, width, height);\n  let data = null;\n  try {\n    data = ctx.getImageData(0, 0, width, height).data;\n  } catch (e) {\n    return null;\n  }\n  const l = data.length;\n\n  let r = 0;\n  let g = 0;\n  let b = 0;\n  let i = 0;\n\n  for (; i < l; i += 4) {\n    r += data[i] * data[i];\n    g += data[i + 1] * data[i + 1];\n    b += data[i + 2] * data[i + 2];\n  }\n\n  r = averageColor(r, l);\n  g = averageColor(g, l);\n  b = averageColor(b, l);\n\n  return { r, g, b };\n};\n\nconst averageColor = (c, l) => Math.floor(Math.sqrt(c / (l / 4)));\n\nconst cloneCanvas = (origin, target) => {\n  target = target || document.createElement('canvas');\n  target.width = origin.width;\n  target.height = origin.height;\n  const ctx = target.getContext('2d');\n  ctx.drawImage(origin, 0, 0);\n  return target;\n};\n\nconst cloneImageData = imageData => {\n  let id;\n  try {\n    id = new ImageData(imageData.width, imageData.height);\n  } catch (e) {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    id = ctx.createImageData(imageData.width, imageData.height);\n  }\n  id.data.set(new Uint8ClampedArray(imageData.data));\n  return id;\n};\n\nconst loadImage = url =>\n  new Promise((resolve, reject) => {\n    const img = new Image();\n    img.crossOrigin = 'Anonymous';\n    img.onload = () => {\n      resolve(img);\n    };\n    img.onerror = e => {\n      reject(e);\n    };\n    img.src = url;\n  });\n\nconst createImageWrapperView = _ => {\n  // create overlay view\n  const OverlayView = createImageOverlayView(_);\n\n  const ImageView = createImageView(_);\n\n  const { createWorker } = _.utils;\n\n  const applyFilter = (root, filter, target) =>\n    new Promise(resolve => {\n      // will store image data for future filter updates\n      if (!root.ref.imageData) {\n        root.ref.imageData = target\n          .getContext('2d')\n          .getImageData(0, 0, target.width, target.height);\n      }\n\n      // get image data reference\n      const imageData = cloneImageData(root.ref.imageData);\n\n      if (!filter || filter.length !== 20) {\n        target.getContext('2d').putImageData(imageData, 0, 0);\n        return resolve();\n      }\n\n      const worker = createWorker(ColorMatrixWorker);\n      worker.post(\n        {\n          imageData,\n          colorMatrix: filter\n        },\n        response => {\n          // apply filtered colors\n          target.getContext('2d').putImageData(response, 0, 0);\n\n          // stop worker\n          worker.terminate();\n\n          // done!\n          resolve();\n        },\n        [imageData.data.buffer]\n      );\n    });\n\n  const removeImageView = (root, imageView) => {\n    root.removeChildView(imageView);\n    imageView.image.width = 1;\n    imageView.image.height = 1;\n    imageView._destroy();\n  };\n\n  // remove an image\n  const shiftImage = ({ root }) => {\n    const imageView = root.ref.images.shift();\n    imageView.opacity = 0;\n    imageView.translateY = -15;\n    root.ref.imageViewBin.push(imageView);\n    return imageView;\n  };\n\n  // add new image\n  const pushImage = ({ root, props, image }) => {\n    const id = props.id;\n    const item = root.query('GET_ITEM', { id });\n    if (!item) return;\n\n    const crop = item.getMetadata('crop') || {\n      center: {\n        x: 0.5,\n        y: 0.5\n      },\n      flip: {\n        horizontal: false,\n        vertical: false\n      },\n      zoom: 1,\n      rotation: 0,\n      aspectRatio: null\n    };\n\n    const background = root.query(\n      'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n    );\n\n    let markup;\n    let resize;\n    let dirty = false;\n    if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n      markup = item.getMetadata('markup') || [];\n      resize = item.getMetadata('resize');\n      dirty = true;\n    }\n\n    // append image presenter\n    const imageView = root.appendChildView(\n      root.createChildView(ImageView, {\n        id,\n        image,\n        crop,\n        resize,\n        markup,\n        dirty,\n        background,\n        opacity: 0,\n        scaleX: 1.15,\n        scaleY: 1.15,\n        translateY: 15\n      }),\n      root.childViews.length\n    );\n    root.ref.images.push(imageView);\n\n    // reveal the preview image\n    imageView.opacity = 1;\n    imageView.scaleX = 1;\n    imageView.scaleY = 1;\n    imageView.translateY = 0;\n\n    // the preview is now ready to be drawn\n    setTimeout(() => {\n      root.dispatch('DID_IMAGE_PREVIEW_SHOW', { id });\n    }, 250);\n  };\n\n  const updateImage = ({ root, props }) => {\n    const item = root.query('GET_ITEM', { id: props.id });\n    if (!item) return;\n    const imageView = root.ref.images[root.ref.images.length - 1];\n    imageView.crop = item.getMetadata('crop');\n    imageView.background = root.query(\n      'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n    );\n    if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n      imageView.dirty = true;\n      imageView.resize = item.getMetadata('resize');\n      imageView.markup = item.getMetadata('markup');\n    }\n  };\n\n  // replace image preview\n  const didUpdateItemMetadata = ({ root, props, action }) => {\n    // only filter and crop trigger redraw\n    if (!/crop|filter|markup|resize/.test(action.change.key)) return;\n\n    // no images to update, exit\n    if (!root.ref.images.length) return;\n\n    // no item found, exit\n    const item = root.query('GET_ITEM', { id: props.id });\n    if (!item) return;\n\n    // for now, update existing image when filtering\n    if (/filter/.test(action.change.key)) {\n      const imageView = root.ref.images[root.ref.images.length - 1];\n      applyFilter(root, action.change.value, imageView.image);\n      return;\n    }\n\n    if (/crop|markup|resize/.test(action.change.key)) {\n      const crop = item.getMetadata('crop');\n      const image = root.ref.images[root.ref.images.length - 1];\n\n      // if aspect ratio has changed, we need to create a new image\n      if (Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001) {\n        const imageView = shiftImage({ root });\n        pushImage({ root, props, image: cloneCanvas(imageView.image) });\n      }\n      // if not, we can update the current image\n      else {\n        updateImage({ root, props });\n      }\n    }\n  };\n\n  const canCreateImageBitmap = file => {\n    // Firefox versions before 58 will freeze when running createImageBitmap\n    // in a Web Worker so we detect those versions and return false for support\n    const userAgent = window.navigator.userAgent;\n    const isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n    const firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n    if (firefoxVersion <= 58) return false;\n\n    return 'createImageBitmap' in window && isBitmap(file);\n  };\n\n  /**\n   * Write handler for when preview container has been created\n   */\n  const didCreatePreviewContainer = ({ root, props }) => {\n    const { id } = props;\n\n    // we need to get the file data to determine the eventual image size\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // get url to file (we'll revoke it later on when done)\n    const fileURL = URL.createObjectURL(item.file);\n\n    // determine image size of this item\n    getImageSize(fileURL, (width, height) => {\n      // we can now scale the panel to the final size\n      root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n        id,\n        width,\n        height\n      });\n    });\n  };\n\n  const drawPreview = ({ root, props }) => {\n    const { id } = props;\n\n    // we need to get the file data to determine the eventual image size\n    const item = root.query('GET_ITEM', id);\n    if (!item) return;\n\n    // get url to file (we'll revoke it later on when done)\n    const fileURL = URL.createObjectURL(item.file);\n\n    // fallback\n    const loadPreviewFallback = () => {\n      // let's scale the image in the main thread :(\n      loadImage(fileURL).then(previewImageLoaded);\n    };\n\n    // image is now ready\n    const previewImageLoaded = imageData => {\n      // the file url is no longer needed\n      URL.revokeObjectURL(fileURL);\n\n      // draw the scaled down version here and use that as source so bitmapdata can be closed\n      // orientation info\n      const exif = item.getMetadata('exif') || {};\n      const orientation = exif.orientation || -1;\n\n      // get width and height from action, and swap if orientation is incorrect\n      let { width, height } = imageData;\n\n      // if no width or height, just return early.\n      if (!width || !height) return;\n\n      if (orientation >= 5 && orientation <= 8) {\n        [width, height] = [height, width];\n      }\n\n      // scale canvas based on pixel density\n      // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n      const pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);\n\n      // we want as much pixels to work with as possible,\n      // this multiplies the minimum image resolution,\n      // so when zooming in it doesn't get too blurry\n      const zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR');\n\n      // imaeg scale factor\n      const scaleFactor = zoomFactor * pixelDensityFactor;\n\n      // calculate scaled preview image size\n      const previewImageRatio = height / width;\n\n      // calculate image preview height and width\n      const previewContainerWidth = root.rect.element.width;\n      const previewContainerHeight = root.rect.element.height;\n\n      let imageWidth = previewContainerWidth;\n      let imageHeight = imageWidth * previewImageRatio;\n\n      if (previewImageRatio > 1) {\n        imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n        imageHeight = imageWidth * previewImageRatio;\n      } else {\n        imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n        imageWidth = imageHeight / previewImageRatio;\n      }\n\n      // transfer to image tag so no canvas memory wasted on iOS\n      const previewImage = createPreviewImage(\n        imageData,\n        imageWidth,\n        imageHeight,\n        orientation\n      );\n\n      // done\n      const done = () => {\n        // calculate average image color, disabled for now\n        const averageColor = root.query(\n          'GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR'\n        )\n          ? calculateAverageColor(data)\n          : null;\n        item.setMetadata('color', averageColor, true);\n\n        // data has been transferred to canvas ( if was ImageBitmap )\n        if ('close' in imageData) {\n          imageData.close();\n        }\n\n        // show the overlay\n        root.ref.overlayShadow.opacity = 1;\n\n        // create the first image\n        pushImage({ root, props, image: previewImage });\n      };\n\n      // apply filter\n      const filter = item.getMetadata('filter');\n      if (filter) {\n        applyFilter(root, filter, previewImage).then(done);\n      } else {\n        done();\n      }\n    };\n\n    // if we support scaling using createImageBitmap we use a worker\n    if (canCreateImageBitmap(item.file)) {\n      // let's scale the image in a worker\n      const worker = createWorker(BitmapWorker);\n\n      worker.post(\n        {\n          file: item.file\n        },\n        imageBitmap => {\n          // destroy worker\n          worker.terminate();\n\n          // no bitmap returned, must be something wrong,\n          // try the oldschool way\n          if (!imageBitmap) {\n            loadPreviewFallback();\n            return;\n          }\n\n          // yay we got our bitmap, let's continue showing the preview\n          previewImageLoaded(imageBitmap);\n        }\n      );\n    } else {\n      // create fallback preview\n      loadPreviewFallback();\n    }\n  };\n\n  /**\n   * Write handler for when the preview image is ready to be animated\n   */\n  const didDrawPreview = ({ root }) => {\n    // get last added image\n    const image = root.ref.images[root.ref.images.length - 1];\n    image.translateY = 0;\n    image.scaleX = 1.0;\n    image.scaleY = 1.0;\n    image.opacity = 1;\n  };\n\n  /**\n   * Write handler for when the preview has been loaded\n   */\n  const restoreOverlay = ({ root }) => {\n    root.ref.overlayShadow.opacity = 1;\n    root.ref.overlayError.opacity = 0;\n    root.ref.overlaySuccess.opacity = 0;\n  };\n\n  const didThrowError = ({ root }) => {\n    root.ref.overlayShadow.opacity = 0.25;\n    root.ref.overlayError.opacity = 1;\n  };\n\n  const didCompleteProcessing = ({ root }) => {\n    root.ref.overlayShadow.opacity = 0.25;\n    root.ref.overlaySuccess.opacity = 1;\n  };\n\n  /**\n   * Constructor\n   */\n  const create = ({ root }) => {\n    // image view\n    root.ref.images = [];\n\n    // the preview image data (we need this to filter the image)\n    root.ref.imageData = null;\n\n    // image bin\n    root.ref.imageViewBin = [];\n\n    // image overlays\n    root.ref.overlayShadow = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'idle'\n      })\n    );\n\n    root.ref.overlaySuccess = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'success'\n      })\n    );\n\n    root.ref.overlayError = root.appendChildView(\n      root.createChildView(OverlayView, {\n        opacity: 0,\n        status: 'failure'\n      })\n    );\n  };\n\n  return _.utils.createView({\n    name: 'image-preview-wrapper',\n    create,\n    styles: ['height'],\n    apis: ['height'],\n    destroy: ({ root }) => {\n      // we resize the image so memory on iOS 12 is released more quickly (it seems)\n      root.ref.images.forEach(imageView => {\n        imageView.image.width = 1;\n        imageView.image.height = 1;\n      });\n    },\n    didWriteView: ({ root }) => {\n      root.ref.images.forEach(imageView => {\n        imageView.dirty = false;\n      });\n    },\n    write: _.utils.createRoute(\n      {\n        // image preview stated\n        DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n        DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n        DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n        DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n\n        // file states\n        DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n        DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n        DID_THROW_ITEM_INVALID: didThrowError,\n        DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n        DID_START_ITEM_PROCESSING: restoreOverlay,\n        DID_REVERT_ITEM_PROCESSING: restoreOverlay\n      },\n      ({ root }) => {\n        // views on death row\n        const viewsToRemove = root.ref.imageViewBin.filter(\n          imageView => imageView.opacity === 0\n        );\n\n        // views to retain\n        root.ref.imageViewBin = root.ref.imageViewBin.filter(\n          imageView => imageView.opacity > 0\n        );\n\n        // remove these views\n        viewsToRemove.forEach(imageView => removeImageView(root, imageView));\n        viewsToRemove.length = 0;\n      }\n    )\n  });\n};\n\n/**\n * Image Preview Plugin\n */\nconst plugin = fpAPI => {\n  const { addFilter, utils } = fpAPI;\n  const { Type, createRoute, isFile } = utils;\n\n  // imagePreviewView\n  const imagePreviewView = createImageWrapperView(fpAPI);\n\n  // called for each view that is created right after the 'create' method\n  addFilter('CREATE_VIEW', viewAPI => {\n    // get reference to created view\n    const { is, view, query } = viewAPI;\n\n    // only hook up to item view and only if is enabled for this cropper\n    if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return;\n\n    // create the image preview plugin, but only do so if the item is an image\n    const didLoadItem = ({ root, props }) => {\n      const { id } = props;\n      const item = query('GET_ITEM', id);\n\n      // item could theoretically have been removed in the mean time\n      if (!item || !isFile(item.file) || item.archived) return;\n\n      // get the file object\n      const file = item.file;\n\n      // exit if this is not an image\n      if (!isPreviewableImage(file)) return;\n\n      // test if is filtered\n      if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return;\n\n      // exit if image size is too high and no createImageBitmap support\n      // this would simply bring the browser to its knees and that is not what we want\n      const supportsCreateImageBitmap = 'createImageBitmap' in (window || {});\n      const maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n      if (\n        !supportsCreateImageBitmap &&\n        (maxPreviewFileSize && file.size > maxPreviewFileSize)\n      )\n        return;\n\n      // set preview view\n      root.ref.imagePreview = view.appendChildView(\n        view.createChildView(imagePreviewView, { id })\n      );\n\n      // update height if is fixed\n      const fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      if (fixedPreviewHeight) {\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: fixedPreviewHeight\n        });\n      }\n\n      // now ready\n      const queue =\n        !supportsCreateImageBitmap &&\n        file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n      root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', { id }, queue);\n    };\n\n    const rescaleItem = (root, props) => {\n      if (!root.ref.imagePreview) return;\n\n      let { id } = props;\n\n      // get item\n      const item = root.query('GET_ITEM', { id });\n      if (!item) return;\n\n      // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n      const panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n      const itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n      const fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n      if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return;\n\n      // no data!\n      let { imageWidth, imageHeight } = root.ref;\n      if (!imageWidth || !imageHeight) return;\n\n      // get height min and max\n      const minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n      const maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n      // orientation info\n      const exif = item.getMetadata('exif') || {};\n      const orientation = exif.orientation || -1;\n\n      // get width and height from action, and swap of orientation is incorrect\n      if (orientation >= 5 && orientation <= 8)\n        [imageWidth, imageHeight] = [imageHeight, imageWidth];\n\n      // scale up width and height when we're dealing with an SVG\n      if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n        const scalar = 2048 / imageWidth;\n        imageWidth *= scalar;\n        imageHeight *= scalar;\n      }\n\n      // image aspect ratio\n      const imageAspectRatio = imageHeight / imageWidth;\n\n      // we need the item to get to the crop size\n      const previewAspectRatio =\n        (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio;\n\n      // preview height range\n      let previewHeightMax = Math.max(\n        minPreviewHeight,\n        Math.min(imageHeight, maxPreviewHeight)\n      );\n      const itemWidth = root.rect.element.width;\n      const previewHeight = Math.min(\n        itemWidth * previewAspectRatio,\n        previewHeightMax\n      );\n\n      // request update to panel height\n      root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n        id: item.id,\n        height: previewHeight\n      });\n    };\n\n    const didResizeView = ({ root }) => {\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n    };\n\n    const didUpdateItemMetadata = ({ root, action }) => {\n      if (action.change.key !== 'crop') return;\n\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n    };\n\n    const didCalculatePreviewSize = ({ root, action }) => {\n      // remember dimensions\n      root.ref.imageWidth = action.width;\n      root.ref.imageHeight = action.height;\n\n      // actions in next write operation\n      root.ref.shouldRescale = true;\n      root.ref.shouldDrawPreview = true;\n\n      // as image load could take a while and fire when draw loop is resting we need to give it a kick\n      root.dispatch('KICK');\n    };\n\n    // start writing\n    view.registerWriter(\n      createRoute(\n        {\n          DID_RESIZE_ROOT: didResizeView,\n          DID_STOP_RESIZE: didResizeView,\n          DID_LOAD_ITEM: didLoadItem,\n          DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n        },\n        ({ root, props }) => {\n          // no preview view attached\n          if (!root.ref.imagePreview) return;\n\n          // don't do anything while hidden\n          if (root.rect.element.hidden) return;\n\n          // resize the item panel\n          if (root.ref.shouldRescale) {\n            rescaleItem(root, props);\n            root.ref.shouldRescale = false;\n          }\n\n          if (root.ref.shouldDrawPreview) {\n            // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n            requestAnimationFrame(() => {\n              root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n                id: props.id\n              });\n            });\n            root.ref.shouldDrawPreview = false;\n          }\n        }\n      )\n    );\n  });\n\n  // expose plugin\n  return {\n    options: {\n      // Enable or disable image preview\n      allowImagePreview: [true, Type.BOOLEAN],\n\n      // filters file items to determine which are shown as preview\n      imagePreviewFilterItem: [() => true, Type.FUNCTION],\n\n      // Fixed preview height\n      imagePreviewHeight: [null, Type.INT],\n\n      // Min image height\n      imagePreviewMinHeight: [44, Type.INT],\n\n      // Max image height\n      imagePreviewMaxHeight: [256, Type.INT],\n\n      // Max size of preview file for when createImageBitmap is not supported\n      imagePreviewMaxFileSize: [null, Type.INT],\n\n      // The amount of extra pixels added to the image preview to allow comfortable zooming\n      imagePreviewZoomFactor: [2, Type.INT],\n\n      // Should we upscale small images to fit the max bounding box of the preview area\n      imagePreviewUpscale: [false, Type.BOOLEAN],\n\n      // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n      imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n\n      // Style of the transparancy indicator used behind images\n      imagePreviewTransparencyIndicator: [null, Type.STRING],\n\n      // Enables or disables reading average image color\n      imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n\n      // Enables or disables the previewing of markup\n      imagePreviewMarkupShow: [true, Type.BOOLEAN],\n\n      // Allows filtering of markup to only show certain shapes\n      imagePreviewMarkupFilter: [() => true, Type.FUNCTION]\n    }\n  };\n};\n\n// fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\nconst isBrowser =\n  typeof window !== 'undefined' && typeof window.document !== 'undefined';\nif (isBrowser) {\n  document.dispatchEvent(\n    new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n  );\n}\n\nexport default plugin;\n","<template>\r\n   <FilePond @init=\"handleFilePondInit\" name=\"test\" ref=\"pond\" class=\"int-filepond--wrapper\" label-idle=\"Drop Vehicle resources here or <span class='filepond--label-action'>Browse</span>\" allow-multiple=\"true\" allow-reorder=\"true\" storeAsFile=\"true\" accepted-file-types=\"image/jpeg, image/png\" v-bind:files=\"files\" />\r\n</template>\r\n\r\n<script>\r\n// Import FilePond\r\nimport vueFilePond from \"vue-filepond\";\r\n\r\n// Import styles\r\nimport \"filepond/dist/filepond.min.css\";\r\nimport \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.min.css\";\r\n\r\n// Import plugins\r\nimport FilePondPluginFileValidateType from \"filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.esm.js\";\r\nimport FilePondPluginImagePreview from \"filepond-plugin-image-preview/dist/filepond-plugin-image-preview.esm.js\";\r\n\r\n// Create FilePond component\r\nconst FilePond = vueFilePond(\r\n\tFilePondPluginFileValidateType,\r\n\tFilePondPluginImagePreview\r\n);\r\n\r\nexport default {\r\n\tname: \"file-uploade\",\r\n\tprops: {\r\n\t\tfiles: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => {}\r\n\t\t}\r\n\t},\r\n\tcomponents: {\r\n\t\tFilePond\r\n\t},\r\n\tmethods: {\r\n\t\tremoveItem(id) {\r\n\t\t\tthis.$router.push(\"/vehicles\");\r\n\t\t\treturn this.$store.commit(\"REMOVE_ITEM\", id);\r\n\t\t},\r\n\t\thandleFilePondInit: function() {\r\n\t\t\tconsole.log(\"FilePond has initialized\");\r\n\t\t\tconsole.log(this.$refs.pond.getFiles());\r\n\r\n\t\t\t// return this.myFiles.push(this.$refs.pond.getFiles());\r\n\t\t\tthis.$refs.pond.getFiles();\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUploade.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileUploade.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FileUploade.vue?vue&type=template&id=75e9dd66&\"\nimport script from \"./FileUploade.vue?vue&type=script&lang=js&\"\nexport * from \"./FileUploade.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-container',{attrs:{\"modalsize\":'modal-xl'},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_vm._v(\" Customer name\")]},proxy:true},{key:\"button\",fn:function(){return [_vm._v(\"Edit profile\")]},proxy:true},{key:\"body\",fn:function(){return [_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('h3',{staticClass:\"h3 text-dark-heading mb-2\"},[_vm._v(\" Customer orders \")])]),_c('div',{staticClass:\"col-lg-12\"},[_c('h3',{staticClass:\"h3 text-dark-heading mb-2\"},[_vm._v(\" Customer trips \")])])])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <modal-container :modalsize=\"'modal-xl'\">\r\n      <template #heading> Customer name</template>\r\n      <template #button>Edit profile</template>\r\n      <template #body>\r\n         <div class=\"row\">\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <h3 class=\"h3 text-dark-heading mb-2\">\r\n                  Customer orders\r\n               </h3>\r\n            </div>\r\n            <div class=\"col-lg-12\">\r\n               <h3 class=\"h3 text-dark-heading mb-2\">\r\n                  Customer trips\r\n               </h3>\r\n            </div>\r\n         </div>\r\n      </template>\r\n   </modal-container>\r\n</template>\r\n\r\n<script>\r\nimport ModalContainer from \"@/components/ModalContainer.vue\";\r\nimport { Modal } from \"bootstrap\";\r\n\r\nexport default {\r\n\tname: \"customer-profile\",\r\n\tcomponents: {\r\n\t\tModalContainer\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tmodal: null\r\n\t\t};\r\n\t},\r\n\r\n\tmethods: {\r\n\t\topenComponent(componentName) {\r\n\t\t\tthis.currentEditComponent == componentName;\r\n\t\t},\r\n\t\tremoveItem(id) {\r\n\t\t\tthis.$router.push(\"/customers\");\r\n\t\t\treturn this.$store.commit(\"REMOVE_ITEM\", id);\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\tcustomersFilter() {\r\n\t\t\treturn this.$store.getters.customersFilter;\r\n\t\t},\r\n\t\tcustomer() {\r\n\t\t\treturn this.customersFilter.find(\r\n\t\t\t\tcustomer => customer.id == this.$route.params.id\r\n\t\t\t);\r\n\t\t},\r\n\t\tcurrentEditComponent: {\r\n\t\t\tget() {\r\n\t\t\t\treturn this.$store.state.adminPanel.currentEditComponent;\r\n\t\t\t},\r\n\t\t\tset(value) {\r\n\t\t\t\tthis.$store.commit(\"currentEditComponent\", value);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tbeforeRouteUpdate() {\r\n\t\tif (this.$route.name === \"edit-profile\") {\r\n\t\t\tvar openModal = (this.modal = new Modal(this.$refs.openID));\r\n\t\t\topenModal.show();\r\n\t\t}\r\n\t},\r\n\tmounted() {\r\n\t\tvar openModal = (this.modal = new Modal(this.$refs.openID));\r\n\t\topenModal.show();\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerProfile.vue?vue&type=template&id=fa24b9ce&\"\nimport script from \"./CustomerProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*!\n * FilePond 4.28.2\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n        ? define(['exports'], factory)\n        : ((global = global || self), factory((global.FilePond = {})));\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substr(2, 9);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return url\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substr(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // cannot revert without a server id for this process\n                if (state.serverFileReference === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    state.serverFileReference,\n                    function() {\n                        // reset file server id as now it's no available on the server\n                        state.serverFileReference = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function() {\n                            handleAdd(false);\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        options.revert &&\n                        item.origin !== FileOrigin.LOCAL &&\n                        item.serverId !== null\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                forin(options, function(key, value) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), { value: value });\n                });\n            },\n        };\n    };\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' bytes';\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' KB';\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' MB';\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' GB';\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE')\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // hide the label for screenreaders, the input element will read the contents of the label when it's focussed. If we don't set aria-hidden the screenreader will also navigate the contents of the label separately from the input.\n        attr(label, 'aria-hidden', 'true');\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        dataContainer.disabled = root.query('GET_DISABLED');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files (so doesn't deal with file input)\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            field.value = action.value;\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.setAttribute('aria-hidden', 'true');\n            frag.href = credits[0];\n            frag.tabindex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substr(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : allowReplace ? maxItems : 1;\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('modal-container',{attrs:{\"modalsize\":'modal-lg'},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_vm._v(\" \"+_vm._s(_vm.vehicle.name))]},proxy:true},{key:\"button\",fn:function(){return [_vm._v(\"Edit vehicle\")]},proxy:true},{key:\"body\",fn:function(){return [_c('h3',{staticClass:\"h3 text-dark-heading mb-3\"},[_vm._v(\" Vehicle genral settings \")]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle name\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.name),expression:\"vehicle.name\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"name\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.name))]),_c('option',[_vm._v(\"BMW X5\")]),_c('option',[_vm._v(\"Mercedes C-Class\")]),_c('option',[_vm._v(\"BMW X7\")]),_c('option',[_vm._v(\"Mecedes Maybach\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle provider\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.provider),expression:\"vehicle.provider\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"provider\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',[_vm._v(\"customer\")]),_c('option',[_vm._v(\"Producer\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle group\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.group),expression:\"vehicle.group\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"group\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.group))]),_c('option',[_vm._v(\"SUV\")]),_c('option',[_vm._v(\"People Carrier\")]),_c('option',[_vm._v(\"Coach\")]),_c('option',[_vm._v(\"Box Van\")]),_c('option',[_vm._v(\"Truck\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle size\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.size),expression:\"vehicle.size\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"size\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.size))]),_c('option',[_vm._v(\"Small\")]),_c('option',[_vm._v(\"Large\")]),_c('option',[_vm._v(\"ExtraLarge\")]),_c('option',[_vm._v(\"DoubleLarge\")])])]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle type\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.type),expression:\"vehicle.type\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.type))]),_c('option',[_vm._v(\"Executive\")]),_c('option',[_vm._v(\"Luxury\")]),_c('option',[_vm._v(\"Ultimate\")]),_c('option',[_vm._v(\"SUV\")]),_c('option',[_vm._v(\"MPV\")]),_c('option',[_vm._v(\"Mini\")]),_c('option',[_vm._v(\"Midi\")]),_c('option',[_vm._v(\"Classic\")]),_c('option',[_vm._v(\"ThreeAxle\")]),_c('option',[_vm._v(\"DoubleDecker\")]),_c('option',[_vm._v(\"Van\")]),_c('option',[_vm._v(\"Truck\")]),_c('option',[_vm._v(\"unspecified\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle class\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.v_class),expression:\"vehicle.v_class\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"v_class\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.v_class))]),_c('option',[_vm._v(\"Low Emission\")]),_c('option',[_vm._v(\"Economy Class\")]),_c('option',[_vm._v(\"First Class\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle license\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.license),expression:\"vehicle.license\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.license)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"license\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"\"}},[_vm._v(\"Vehicle category\")]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.category),expression:\"vehicle.category\"}],staticClass:\"form-control\",attrs:{\"aria-label\":\"customer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.vehicle, \"category\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"selected\":\"\"}},[_vm._v(_vm._s(_vm.vehicle.category))]),_c('option',[_vm._v(\"BUS\")]),_c('option',[_vm._v(\"CARGO\")]),_c('option',[_vm._v(\"SHIP\")])])]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle pax\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.pax),expression:\"vehicle.pax\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.pax)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"pax\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle res\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.res),expression:\"vehicle.res\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.res)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"res\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.min),expression:\"vehicle.min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.max),expression:\"vehicle.max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.t_min),expression:\"vehicle.t_min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.t_min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"t_min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.t_max),expression:\"vehicle.t_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.t_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"t_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle t_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.t_max),expression:\"vehicle.t_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.t_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"t_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle s_min\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.s_min),expression:\"vehicle.s_min\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.s_min)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"s_min\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle s_max\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.s_max),expression:\"vehicle.s_max\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.s_max)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"s_max\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"formGroupExampleInput2\"}},[_vm._v(\"Vehicle ARG\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.vehicle.arg),expression:\"vehicle.arg\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"formGroupExampleInput2\",\"placeholder\":\"Another input placeholder\"},domProps:{\"value\":(_vm.vehicle.arg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.vehicle, \"arg\", $event.target.value)}}})]),_c('div',{staticClass:\"col-lg-12 mb-3\"},[_c('FileUploade',{attrs:{\"files\":_vm.vehicleFiles}})],1)])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n   <modal-container :modalsize=\"'modal-lg'\">\r\n      <template #heading> {{vehicle.name}}</template>\r\n      <template #button>Edit vehicle</template>\r\n      <template #body>\r\n         <h3 class=\"h3 text-dark-heading mb-3\">\r\n            Vehicle genral settings\r\n         </h3>\r\n         <div class=\"row\">\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle name</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.name\">\r\n                  <option selected>{{vehicle.name}}</option>\r\n                  <option>BMW X5</option>\r\n                  <option>Mercedes C-Class</option>\r\n                  <option>BMW X7</option>\r\n                  <option>Mecedes Maybach</option>\r\n               </select>\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle provider</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.provider\">\r\n                  <option>customer</option>\r\n                  <option>Producer</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle group</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.group\">\r\n                  <option selected>{{vehicle.group}}</option>\r\n                  <option>SUV</option>\r\n                  <option>People Carrier</option>\r\n                  <option>Coach</option>\r\n                  <option>Box Van</option>\r\n                  <option>Truck</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle size</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.size\">\r\n                  <option selected>{{vehicle.size}}</option>\r\n                  <option>Small</option>\r\n                  <option>Large</option>\r\n                  <option>ExtraLarge</option>\r\n                  <option>DoubleLarge</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle type</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.type\">\r\n                  <option selected>{{vehicle.type}}</option>\r\n                  <option>Executive</option>\r\n                  <option>Luxury</option>\r\n                  <option>Ultimate</option>\r\n                  <option>SUV</option>\r\n                  <option>MPV</option>\r\n                  <option>Mini</option>\r\n                  <option>Midi</option>\r\n                  <option>Classic</option>\r\n                  <option>ThreeAxle</option>\r\n                  <option>DoubleDecker</option>\r\n                  <option>Van</option>\r\n                  <option>Truck</option>\r\n                  <option>unspecified</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle class</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.v_class\">\r\n                  <option selected>{{vehicle.v_class}}</option>\r\n\r\n                  <option>Low Emission</option>\r\n                  <option>Economy Class</option>\r\n                  <option>First Class</option>\r\n               </select>\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle license</label>\r\n               <input type=\"text\" class=\"form-control\" v-model=\"vehicle.license\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Vehicle category</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.category\">\r\n                  <option selected>{{vehicle.category}}</option>\r\n                  <option>BUS</option>\r\n                  <option>CARGO</option>\r\n                  <option>SHIP</option>\r\n               </select>\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle pax</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.pax\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle res</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.res\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle min</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.min\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_min</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.t_min\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.t_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle t_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.t_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle s_min</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.s_min\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle s_max</label>\r\n               <input type=\"number\" class=\"form-control\" v-model=\"vehicle.s_max\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Vehicle ARG</label>\r\n               <input type=\"text\" class=\"form-control\" v-model=\"vehicle.arg\" id=\"formGroupExampleInput2\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-12 mb-3\">\r\n               <FileUploade :files=\"vehicleFiles\" />\r\n            </div>\r\n         </div>\r\n\r\n         <!-- <h3 class=\"h3 text-dark-heading mb-3 pt-3 border-top\">\r\n            Vehicle Equipment & Prices rate\r\n         </h3>\r\n         <div class=\"row\">\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Pay rate ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.payRate\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"\" class=\"form-label\">Fuel type</label>\r\n               <select class=\"form-control\" aria-label=\"customer\" v-model=\"vehicle.fuelType\">\r\n                  <option>Diesel</option>\r\n                  <option>Super</option>\r\n               </select>\r\n            </div>\r\n\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Standard consumption (L/100KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.standardConsumption\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Tire set price ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.tireSetPrice\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Tire lifespan (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.tireLifespan\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Service costs ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.serviceCosts\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Service interval (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.serviceInterval\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Rent daily rate ()</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.rentDailyRate\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Base price (HR)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.basePrice_hr\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n            <div class=\"col-lg-6 mb-3\">\r\n               <label for=\"formGroupExampleInput2\" class=\"form-label\">Base price (KM)</label>\r\n               <input type=\"number\" class=\"form-control\" id=\"formGroupExampleInput2\" v-model=\"vehicle.basePrice_km\" placeholder=\"Another input placeholder\">\r\n            </div>\r\n         </div> -->\r\n      </template>\r\n   </modal-container>\r\n</template>\r\n\r\n<script>\r\nimport ModalContainer from \"@/components/ModalContainer.vue\";\r\nimport FileUploade from \"@/components/forms/FileUploade.vue\";\r\n\r\nexport default {\r\n\tname: \"edit-vehicle\",\r\n\tcomponents: {\r\n\t\tModalContainer,\r\n\t\tFileUploade\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tvehicleFiles: []\r\n\t\t};\r\n\t},\r\n\tcomputed: {\r\n\t\tvehiclesFilter() {\r\n\t\t\treturn this.$store.getters.vehiclesFilter;\r\n\t\t},\r\n\t\tvehicle() {\r\n\t\t\treturn this.vehiclesFilter.find(\r\n\t\t\t\tvehicle => vehicle.id == this.$route.params.id\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\tmethods: {\r\n\t\tremoveItem(id) {\r\n\t\t\tthis.$router.push(\"/vehicles\");\r\n\t\t\treturn this.$store.commit(\"REMOVE_ITEM\", id);\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditVehicle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditVehicle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditVehicle.vue?vue&type=template&id=2cb17d40&\"\nimport script from \"./EditVehicle.vue?vue&type=script&lang=js&\"\nexport * from \"./EditVehicle.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}